<app-modal [title]="title" [saveButtonDisabled]="form?.invalid || false" [child]="child"
           (closeMeEvent)="close()" (confirmEvent)="save()">
  <ng-template #child>
    <div class="card p-3" *ngIf="vm$ | async as vm">
      <div class="card-body" *ngIf="form">
        <form admin-form method="POST"
              enctype="multipart/form-data" [formGroup]="form">
          <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="Name" formControlName="name">
          </div>
          <div class="mb-3">
            <label for="slug" class="form-label">Code</label>
            <input type="text" class="form-control" id="code" name="code" placeholder="Code" formControlName="code">
          </div>
          <div class="mb-3">
            <label for="slug" class="form-label">Country</label>
            <select class="form-control" formControlName="country_id">
              <option value="">Select Country</option>
              <option *ngFor="let country of vm.countries" [value]="country.id">{{country.name}}</option>
            </select>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" formControlName="active" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
              Active
            </label>
          </div>

          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal" (click)="closeMe()">Close</button>
            <button [disabled]="saveButtonDisabled" type="submit" class="btn {{saveButtonClass}}"
                    (click)="save()">{{ saveButtonText }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </ng-template>
</app-modal>
