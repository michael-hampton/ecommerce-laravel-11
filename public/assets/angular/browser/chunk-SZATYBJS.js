import{a as Xe}from"./chunk-72ZV2RTL.js";import{a as ge,b as _e}from"./chunk-TC2VSDNX.js";import{a as pe}from"./chunk-6I7PN7HP.js";import{a as fe,b as ue}from"./chunk-QYOQXKGA.js";import{a as se}from"./chunk-HQV6Q54H.js";import{a as he,b as be,c as Ye}from"./chunk-Z2N3KAJX.js";import{c as te,e as E,g as ie,h as oe,j as y,l as re,n as ne,q as ae,r as Ne,s as Be,t as Ke,u as Pe,x as le,z as We}from"./chunk-ZUXETJBN.js";import{a as C,b as me,c as ce,e as L}from"./chunk-LOXVGAEK.js";import{a as b,c as de,d as S}from"./chunk-QVSNJCSE.js";import{Ba as U,Ca as _,Gb as Z,Ha as l,Hb as $,Jb as B,La as z,Ob as Je,P as w,Pa as a,Qa as n,R as P,Ra as d,Sa as J,Ta as K,V as v,Va as F,W as Qe,Wa as h,Xa as c,Y as f,Yb as ee,Z as I,a as D,ab as W,b as T,bb as X,c as q,ca as u,cb as Y,d as H,da as g,eb as p,ec as Ue,f as G,fb as ze,gb as Q,mb as V,sa as s,sb as j,tb as N,vb as O,wa as A,ya as M,za as je}from"./chunk-QYSCFILT.js";var ye="faq-categories",ve=class o{constructor(i,e){this.baseHttpClient=i;this.httpClient=e}create(i){return this.httpClient.post(`${b.apiUrl}/${ye}`,i)}update(i,e){return this.httpClient.put(`${b.apiUrl}/${ye}/${i}`,e)}delete(i){return this.httpClient.delete(`${b.apiUrl}/${ye}/${i}`)}search(i){return this.httpClient.post(`${b.apiUrl}/${ye}/search`,i)}getAll(){return this.httpClient.get(`${b.apiUrl}/${ye}`)}static \u0275fac=function(e){return new(e||o)(f(ce),f(ee))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var ct={},xe=class o extends me{constructor(e,t){super(ct);this._api=e;this._globalStore=t}saveData=e=>{let k=e,{id:t}=k,r=q(k,["id"]),m=t?this._api.update(t,e):this._api.create(r);return this._globalStore.setLoading(!0),m.pipe(C({next:R=>{this._globalStore.setSuccess("Saved successfully")},error:R=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(R))},finalize:()=>this._globalStore.setLoading(!1)}))};static \u0275fac=function(t){return new(t||o)(f(ve),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};var dt=["modal"];function ft(o,i){if(o&1){let e=F();a(0,"div",2)(1,"form",3)(2,"div",4)(3,"label",5),p(4,"Name"),n(),d(5,"input",6),n(),a(6,"div",4)(7,"label",5),p(8,"Slug"),n(),d(9,"input",7),n(),a(10,"div",8)(11,"button",9),h("click",function(){u(e);let r=c();return g(r.closeMe())}),p(12," Close "),n(),a(13,"button",10),h("click",function(){u(e);let r=c();return g(r.save())}),p(14),n()()()()}if(o&2){let e=c();s(),l("formGroup",e.form),s(12),z("btn ",e.saveButtonClass,""),l("disabled",e.saveButtonDisabled),s(),Q(" ",e.saveButtonText," ")}}var we=class o extends fe{constructor(e){super();this.fb=e}content;form;_formStore=I(xe);ngOnInit(){this.initializeForm(),this.form?.controls.name.valueChanges.subscribe(e=>{this.stringToSlug(e)}),this.formData?.id&&this.patchForm()}save(){if(this.form?.valid){let e={name:this.form.value.name,slug:this.form.value.slug};this.form.value.id&&(e.id=this.form.value.id),this._formStore.saveData(e).subscribe(t=>{this.confirm()})}}patchForm(){this.form?.patchValue({id:this.formData.id,name:this.formData.name,slug:this.formData.slug})}initializeForm(){this.form=this.fb.group({id:new y(null),name:new y("",[E.required]),slug:new y("",[E.required])})}stringToSlug(e){var t=e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");this.form?.patchValue({slug:t})}static \u0275fac=function(t){return new(t||o)(A(le))};static \u0275cmp=M({type:o,selectors:[["app-form"]],viewQuery:function(t,r){if(t&1&&W(dt,5),t&2){let m;X(m=Y())&&(r.content=m.first)}},standalone:!1,features:[V([xe]),U],decls:2,vars:1,consts:[[1,"card","p-3"],["class","card-body",4,"ngIf"],[1,"card-body"],["admin-form","","method","post",1,"form-horizontal",3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","id","name","name","name","placeholder","Name","formControlName","name",1,"form-control"],["type","text","id","slug","name","slug","placeholder","Slug","formControlName","slug",1,"form-control"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",3,"click","disabled"]],template:function(t,r){t&1&&(a(0,"div",0),_(1,ft,15,6,"div",1),n()),t&2&&(s(),l("ngIf",r.form))},dependencies:[$,ge,_e,re,te,ie,oe,ne,ae],encapsulation:2})};var ut={data:{},filter:T(D({},se),{sortBy:"name"})},Te=class o extends pe{constructor(e,t){super(ut);this._api=e;this._globalStore=t}data$=this.select(({data:e})=>e);vm$=this.select({data:this.data$,filter:this.filter$},{debounce:!0});delete=this.effect(G(P(()=>this._globalStore.setLoading(!0)),w(e=>this._api.delete(e).pipe(C({next:t=>{this._globalStore.setSuccess("Deleted successfully")},error:t=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(t))},finalize:()=>this._globalStore.setLoading(!1)})))));loadData=this.effect(e=>e.pipe(P(()=>this._globalStore.setLoading(!0)),w(t=>this._api.search(t).pipe(C({next:r=>this.patchState({data:r}),error:r=>this._globalStore.setError(S(r)),complete:()=>this._globalStore.setLoading(!1)})))));static \u0275fac=function(t){return new(t||o)(f(ve),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};function gt(o,i){if(o&1){let e=F();a(0,"div",9)(1,"button",10),d(2,"i",11),n(),a(3,"ul",12)(4,"li")(5,"a",13),h("click",function(){let r=u(e).item,m=c(2);return g(m.edit(r))}),d(6,"i",14),p(7," Edit "),n()(),a(8,"li")(9,"a",15),h("click",function(){let r=u(e).item,m=c(2);return g(m.delete(r))}),d(10,"i",16),p(11," Delete "),n()()()()}}function _t(o,i){if(o&1){let e=F();J(0),a(1,"app-table",4),h("addButton",function(r){u(e);let m=c();return g(m.add(r))})("reload",function(){u(e);let r=c();return g(r.reload())})("changePage",function(r){u(e);let m=c();return g(m.pageChanged(r))}),d(2,"data-table-column",5)(3,"data-table-column",6)(4,"data-table-column",7),a(5,"data-table-column",8),_(6,gt,12,0,"ng-template",null,2,O),n()(),K()}if(o&2){let e=i.ngIf;s(),l("indexColumn",!1)("sortBy",e.filter==null?null:e.filter.sortBy)("sortDir",e.filter==null?null:e.filter.sortDir)("searchText",e.filter==null?null:e.filter.searchText)("itemCount",e.data==null?null:e.data.total)("items",e.data==null?null:e.data.data)("page",e.filter==null?null:e.filter.page),s(),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!1)}}var ke=class o{constructor(i){this.modalService=i}_store=I(Te);vm$=this._store.vm$;ngOnInit(){this._store.loadData(this._store.filter$)}delete=i=>H(this,null,function*(){this.modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:"click confirm or close"}).subscribe(e=>{this._store.delete(i.id),this._store.reset()})});add(i){i.preventDefault(),this.modalService.openModal(we,null,{modalTitle:"Create Attribute Value"}).subscribe(e=>{this._store.reset()})}edit(i){this.modalService.openModal(we,i,{modalTitle:"Edit Attribute Value"}).subscribe(e=>{this._store.reset()})}pageChanged(i){let e=[];e.push({column:"name",value:de(i),operator:"like"}),i=T(D({},i),{searchFilters:e}),this._store.updateFilter(i)}reload(){this._store.reset()}static \u0275fac=function(e){return new(e||o)(A(ue))};static \u0275cmp=M({type:o,selectors:[["app-list"]],standalone:!1,features:[V([Te])],decls:6,vars:3,consts:[["confirmationModal",""],["modal",""],["dataTableCell",""],[4,"ngIf"],["headerTitle","Categories",3,"addButton","reload","changePage","indexColumn","sortBy","sortDir","searchText","itemCount","items","page"],["header","#","property","id",3,"sortable"],["header","Name","property","name",3,"sortable"],["header","Slug","property","slug",3,"sortable"],["header","Action",3,"sortable"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","aria-label","Settings",1,"btn","btn-icon","btn-ghost","rounded-circle"],[1,"fa-solid","fa-ellipsis-vertical",2,"font-size","22px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fa","fa-edit","opacity-75","me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","opacity-75","me-2"]],template:function(e,t){e&1&&(_(0,_t,8,11,"ng-container",3),j(1,"async"),d(2,"div",null,0)(4,"div",null,1)),e&2&&l("ngIf",N(1,1,t.vm$))},dependencies:[$,be,he,B],encapsulation:2})};var Re="faq-questions",Ce=class o{constructor(i,e){this.baseHttpClient=i;this.httpClient=e}create(i){return this.httpClient.post(`${b.apiUrl}/${Re}`,i)}update(i,e){return this.httpClient.put(`${b.apiUrl}/${Re}/${i}`,e)}getCategories(){return this.httpClient.get(`${b.apiUrl}/faq-categories`)}delete(i){return this.httpClient.delete(`${b.apiUrl}/${Re}/${i}`)}getData(i){return this.httpClient.post(`${b.apiUrl}/${Re}/search`,i)}static \u0275fac=function(e){return new(e||o)(f(ce),f(ee))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var ht={data:{},filter:T(D({},se),{sortBy:"question"})},Ie=class o extends pe{constructor(e,t){super(ht);this._api=e;this._globalStore=t}data$=this.select(({data:e})=>e);vm$=this.select({data:this.data$,filter:this.filter$},{debounce:!0});delete=this.effect(G(P(()=>this._globalStore.setLoading(!0)),w(e=>this._api.delete(e).pipe(C({next:t=>{this._globalStore.setSuccess("Deleted successfully")},error:t=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(t))},finalize:()=>this._globalStore.setLoading(!1)})))));loadData=this.effect(e=>e.pipe(P(()=>this._globalStore.setLoading(!0)),w(t=>this._api.getData(t).pipe(C({next:r=>this.patchState({data:r}),error:r=>this._globalStore.setError(S(r)),complete:()=>this._globalStore.setLoading(!1)})))));static \u0275fac=function(t){return new(t||o)(f(Ce),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};var bt={categories:[]},Ae=class o extends me{constructor(e,t){super(bt);this._api=e;this._globalStore=t}categories$=this.select(({categories:e})=>e);vm$=this.select({categories:this.categories$},{debounce:!0});saveData=e=>{let k=e,{id:t}=k,r=q(k,["id"]),m=t?this._api.update(t,e):this._api.create(r);return this._globalStore.setLoading(!0),m.pipe(C({next:R=>{this._globalStore.setSuccess("Saved successfully")},error:R=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(R))},finalize:()=>this._globalStore.setLoading(!1)}))};getCategories=this.effect(e=>e.pipe(w(()=>this._api.getCategories().pipe(C({next:t=>this.patchState({categories:t.data}),error:t=>this._globalStore.setError(S(t)),finalize:()=>this._globalStore.setLoading(!1)})))));static \u0275fac=function(t){return new(t||o)(f(Ce),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};var vt=["modal"];function Ct(o,i){if(o&1&&(a(0,"option",15),p(1),n()),o&2){let e=i.$implicit;l("value",e.id),s(),Q(" ",e.name," ")}}function St(o,i){if(o&1){let e=F();a(0,"form",4)(1,"div",5)(2,"label",6),p(3,"Question"),n(),d(4,"input",7),n(),a(5,"div",5)(6,"label",6),p(7,"Answer"),n(),d(8,"textarea",8),n(),a(9,"div",5)(10,"label",6),p(11,"Category"),n(),a(12,"select",9)(13,"option",10),p(14,"Select Category"),n(),_(15,Ct,2,2,"option",11),n()(),a(16,"div",12)(17,"button",13),h("click",function(){u(e);let r=c(2);return g(r.closeMe())}),p(18," Close "),n(),a(19,"button",14),h("click",function(){u(e);let r=c(2);return g(r.save())}),p(20),n()()()}if(o&2){let e=i.ngIf,t=c(2);l("formGroup",t.form),s(15),l("ngForOf",e.categories),s(4),z("btn ",t.saveButtonClass,""),l("disabled",t.saveButtonDisabled),s(),Q(" ",t.saveButtonText," ")}}function yt(o,i){if(o&1&&(a(0,"div",2),_(1,St,21,7,"form",3),j(2,"async"),n()),o&2){let e=c();s(),l("ngIf",N(2,1,e.vm$))}}var Me=class o extends fe{constructor(e){super();this.fb=e}content;form;_formStore=I(Ae);vm$=this._formStore.vm$;ngOnInit(){this.initializeForm(),this.formData?.id&&this.patchForm(),this._formStore.getCategories()}save(){if(this.form?.valid){let e={question:this.form.value.question,answer:this.form.value.answer,category_id:this.form.value.category_id};this.form.value.id&&(e.id=this.form.value.id),this._formStore.saveData(e).subscribe(t=>{this.confirm()})}}patchForm(){this.form?.patchValue({id:this.formData.id,question:this.formData.question,answer:this.formData.answer,category_id:this.formData.category_id})}initializeForm(){this.form=this.fb.group({id:new y(null),question:new y("",[E.required]),answer:new y("",[E.required]),category_id:new y("",[E.required])})}static \u0275fac=function(t){return new(t||o)(A(le))};static \u0275cmp=M({type:o,selectors:[["app-form"]],viewQuery:function(t,r){if(t&1&&W(vt,5),t&2){let m;X(m=Y())&&(r.content=m.first)}},standalone:!1,features:[V([Ae]),U],decls:2,vars:1,consts:[[1,"card","p-3"],["class","card-body",4,"ngIf"],[1,"card-body"],["admin-form","","class","form-horizontal","method","post",3,"formGroup",4,"ngIf"],["admin-form","","method","post",1,"form-horizontal",3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","id","name","name","question","placeholder","Question","formControlName","question",1,"form-control"],["rows","8","id","answer","name","answer","placeholder","Answer","formControlName","answer",1,"form-control"],["id","category_id","name","category_id","formControlName","category_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",3,"click","disabled"],[3,"value"]],template:function(t,r){t&1&&(a(0,"div",0),_(1,yt,3,3,"div",1),n()),t&2&&(s(),l("ngIf",r.form))},dependencies:[Z,$,ge,_e,re,Be,Pe,te,Ne,ie,oe,ne,ae,B],encapsulation:2})};function xt(o,i){if(o&1&&p(0),o&2){let e=i.item;Q(" ",e.category.name," ")}}function Ft(o,i){if(o&1){let e=F();a(0,"div",10)(1,"button",11),d(2,"i",12),n(),a(3,"ul",13)(4,"li")(5,"a",14),h("click",function(){let r=u(e).item,m=c(2);return g(m.edit(r))}),d(6,"i",15),p(7," Edit "),n()(),a(8,"li")(9,"a",16),h("click",function(){let r=u(e).item,m=c(2);return g(m.delete(r))}),d(10,"i",17),p(11," Delete "),n()()()()}}function wt(o,i){if(o&1){let e=F();J(0),a(1,"app-table",4),h("addButton",function(r){u(e);let m=c();return g(m.add(r))})("reload",function(){u(e);let r=c();return g(r.reload())})("changePage",function(r){u(e);let m=c();return g(m.pageChanged(r))}),d(2,"data-table-column",5),a(3,"data-table-column",6),_(4,xt,1,1,"ng-template",null,2,O),n(),d(6,"data-table-column",7)(7,"data-table-column",8),a(8,"data-table-column",9),_(9,Ft,12,0,"ng-template",null,2,O),n()(),K()}if(o&2){let e=i.ngIf;s(),l("indexColumn",!1)("sortBy",e.filter==null?null:e.filter.sortBy)("sortDir",e.filter==null?null:e.filter.sortDir)("searchText",e.filter==null?null:e.filter.searchText)("itemCount",e.data==null?null:e.data.total)("items",e.data==null?null:e.data.data)("page",e.filter==null?null:e.filter.page),s(),l("sortable",!0),s(),l("sortable",!0),s(3),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!1)}}var Oe=class o{constructor(i){this.modalService=i}_store=I(Ie);vm$=this._store.vm$;ngOnInit(){this._store.loadData(this._store.filter$)}delete=i=>H(this,null,function*(){this.modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:"click confirm or close"}).subscribe(e=>{this._store.delete(i.id),this._store.reset()})});add(i){i.preventDefault(),this.modalService.openModal(Me,null,{modalTitle:"Create Question"}).subscribe(e=>{this._store.reset()})}edit(i){this.modalService.openModal(Me,i,{modalTitle:"Edit Question"}).subscribe(e=>{this._store.reset()})}pageChanged(i){let e=[];e.push({column:"name",value:de(i),operator:"like"}),i=T(D({},i),{searchFilters:e}),this._store.updateFilter(i)}reload(){this._store.reset()}static \u0275fac=function(e){return new(e||o)(A(ue))};static \u0275cmp=M({type:o,selectors:[["app-question-list"]],standalone:!1,features:[V([Ie])],decls:6,vars:3,consts:[["confirmationModal",""],["modal",""],["dataTableCell",""],[4,"ngIf"],["headerTitle","Questions",3,"addButton","reload","changePage","indexColumn","sortBy","sortDir","searchText","itemCount","items","page"],["header","#","property","id",3,"sortable"],["header","Category","property","category",3,"sortable"],["header","Question","property","question",3,"sortable"],["header","Answer","property","answer",3,"sortable"],["header","Action",3,"sortable"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","aria-label","Settings",1,"btn","btn-icon","btn-ghost","rounded-circle"],[1,"fa-solid","fa-ellipsis-vertical",2,"font-size","22px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fa","fa-edit","opacity-75","me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","opacity-75","me-2"]],template:function(e,t){e&1&&(_(0,wt,11,12,"ng-container",3),j(1,"async"),d(2,"div",null,0)(4,"div",null,1)),e&2&&l("ngIf",N(1,1,t.vm$))},dependencies:[$,be,he,B],encapsulation:2})};var qe="faq-articles",Se=class o{constructor(i,e){this.baseHttpClient=i;this.httpClient=e}create(i){return this.httpClient.post(`${b.apiUrl}/${qe}`,i)}update(i,e){return this.httpClient.put(`${b.apiUrl}/${qe}/${i}`,e)}delete(i){return this.httpClient.delete(`${b.apiUrl}/${qe}/${i}`)}getData(i){return this.httpClient.post(`${b.apiUrl}/${qe}/search`,i)}getCategories(){return this.httpClient.get(`${b.apiUrl}/faq-categories?sortBy=name&sortDir=asc`)}getTags(){return this.httpClient.get(`${b.apiUrl}/faq-tags`)}static \u0275fac=function(e){return new(e||o)(f(ce),f(ee))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var Et={data:{},filter:T(D({},se),{sortBy:"title"})},Ve=class o extends pe{constructor(e,t){super(Et);this._api=e;this._globalStore=t}data$=this.select(({data:e})=>e);vm$=this.select({data:this.data$,filter:this.filter$},{debounce:!0});delete=this.effect(G(P(()=>this._globalStore.setLoading(!0)),w(e=>this._api.delete(e).pipe(C({next:t=>{this._globalStore.setSuccess("Deleted successfully")},error:t=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(t))},finalize:()=>this._globalStore.setLoading(!1)})))));loadData=this.effect(e=>e.pipe(P(()=>this._globalStore.setLoading(!0)),w(t=>this._api.getData(t).pipe(C({next:r=>this.patchState({data:r}),error:r=>this._globalStore.setError(S(r)),complete:()=>this._globalStore.setLoading(!1)})))));static \u0275fac=function(t){return new(t||o)(f(Se),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};var Dt={categories:[],tags:[]},$e=class o extends me{constructor(e,t){super(Dt);this._api=e;this._globalStore=t}categories$=this.select(({categories:e})=>e);tags$=this.select(({tags:e})=>e);vm$=this.select({categories:this.categories$,tags:this.tags$},{debounce:!0});saveData=e=>{let k=e,{id:t}=k,r=q(k,["id"]),m=t?this._api.update(t,e):this._api.create(r);return this._globalStore.setLoading(!0),m.pipe(C({next:R=>{this._globalStore.setSuccess("Saved successfully")},error:R=>{this._globalStore.setLoading(!1),this._globalStore.setError(S(R))},finalize:()=>this._globalStore.setLoading(!1)}))};getCategories=this.effect(e=>e.pipe(w(()=>this._api.getCategories().pipe(C({next:t=>this.patchState({categories:t.data}),error:t=>this._globalStore.setError(S(t)),finalize:()=>this._globalStore.setLoading(!1)})))));getTags=this.effect(e=>e.pipe(w(()=>this._api.getTags().pipe(C({next:t=>this.patchState({tags:t}),error:t=>this._globalStore.setError(S(t)),finalize:()=>this._globalStore.setLoading(!1)})))));static \u0275fac=function(t){return new(t||o)(f(Se),f(L))};static \u0275prov=v({token:o,factory:o.\u0275fac})};var Tt=["modal"];function It(o,i){if(o&1&&(a(0,"option",18),p(1),n()),o&2){let e=i.$implicit;l("value",e.id),s(),Q(" ",e.name," ")}}function At(o,i){if(o&1&&(a(0,"option",18),p(1),n()),o&2){let e=i.$implicit;l("value",e.id),s(),Q(" ",e.name," ")}}function Mt(o,i){if(o&1){let e=F();a(0,"form",4)(1,"div",5)(2,"label",6),p(3,"Title"),n(),d(4,"input",7),n(),a(5,"div",5)(6,"label",6),p(7,"Slug"),n(),d(8,"input",8),n(),a(9,"div",5)(10,"label",6),p(11,"Short Text"),n(),d(12,"textarea",9),n(),a(13,"div",5)(14,"label",6),p(15,"Full Text"),n(),d(16,"textarea",10),n(),a(17,"div",5)(18,"label",6),p(19,"Category"),n(),a(20,"select",11)(21,"option",12),p(22,"Select Category"),n(),_(23,It,2,2,"option",13),n()(),a(24,"div",5)(25,"label",6),p(26,"Tags"),n(),a(27,"select",14)(28,"option",12),p(29,"Select Tag"),n(),_(30,At,2,2,"option",13),n()(),a(31,"div",15)(32,"button",16),h("click",function(){u(e);let r=c(2);return g(r.closeMe())}),p(33," Close "),n(),a(34,"button",17),h("click",function(){u(e);let r=c(2);return g(r.save())}),p(35),n()()()}if(o&2){let e=i.ngIf,t=c(2);l("formGroup",t.form),s(23),l("ngForOf",e.categories),s(7),l("ngForOf",e.tags),s(4),z("btn ",t.saveButtonClass,""),l("disabled",t.saveButtonDisabled),s(),Q(" ",t.saveButtonText," ")}}function Vt(o,i){if(o&1&&(a(0,"div",2),_(1,Mt,36,8,"form",3),j(2,"async"),n()),o&2){let e=c();s(),l("ngIf",N(2,1,e.vm$))}}var Le=class o extends fe{constructor(e){super();this.fb=e}content;form;_formStore=I($e);vm$=this._formStore.vm$;ngOnInit(){this.initializeForm(),this.form?.controls.title.valueChanges.subscribe(e=>{this.stringToSlug(e)}),this.formData?.id&&this.patchForm(),this._formStore.getCategories(),this._formStore.getTags()}save(){if(this.form?.valid){let e={title:this.form.value.title,slug:this.form.value.slug,short_text:this.form.value.short_text,full_text:this.form.value.full_text,tags:this.form.value.tags,category_id:this.form.value.category_id};this.form.value.id&&(e.id=this.form.value.id),this._formStore.saveData(e).subscribe(t=>{this.confirm()})}}patchForm(){this.form?.patchValue({id:this.formData.id,title:this.formData.title,slug:this.formData.slug,short_text:this.formData.short_text,full_text:this.formData.full_text,tags:this.formData.tag_ids,category_id:this.formData.category_id})}initializeForm(){this.form=this.fb.group({id:new y(null),title:new y("",[E.required]),short_text:new y("",[E.required]),full_text:new y("",[E.required]),tags:new y("",[]),slug:new y("",[E.required]),category_id:new y("",[E.required])})}stringToSlug(e){var t=e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");this.form?.patchValue({slug:t})}static \u0275fac=function(t){return new(t||o)(A(le))};static \u0275cmp=M({type:o,selectors:[["app-article-form"]],viewQuery:function(t,r){if(t&1&&W(Tt,5),t&2){let m;X(m=Y())&&(r.content=m.first)}},standalone:!1,features:[V([$e]),U],decls:2,vars:1,consts:[[1,"card","p-3"],["class","card-body",4,"ngIf"],[1,"card-body"],["admin-form","","class","form-horizontal","method","post",3,"formGroup",4,"ngIf"],["admin-form","","method","post",1,"form-horizontal",3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","text","id","title","name","title","placeholder","Title","formControlName","title",1,"form-control"],["type","text","id","slug","name","slug","placeholder","Slug","formControlName","slug",1,"form-control"],["id","short_text","name","short_text","formControlName","short_text",1,"form-control"],["id","full_text","name","full_text","formControlName","full_text",1,"form-control"],["id","category_id","name","category_id","formControlName","category_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","tags","name","tags","formControlName","tags","multiple","",1,"form-control"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",3,"click","disabled"],[3,"value"]],template:function(t,r){t&1&&(a(0,"div",0),_(1,Vt,3,3,"div",1),n()),t&2&&(s(),l("ngIf",r.form))},dependencies:[Z,$,ge,_e,re,Be,Pe,te,Ne,Ke,ie,oe,ne,ae,B],encapsulation:2})};function $t(o,i){if(o&1&&(a(0,"span"),p(1),n()),o&2){let e=i.$implicit;s(),ze(e.name)}}function Lt(o,i){if(o&1&&(a(0,"div",11),_(1,$t,2,1,"span",12),n()),o&2){let e=i.item;s(),l("ngForOf",e.tags)}}function Qt(o,i){if(o&1){let e=F();a(0,"div",13)(1,"button",14),d(2,"i",15),n(),a(3,"ul",16)(4,"li")(5,"a",17),h("click",function(){let r=u(e).item,m=c(2);return g(m.edit(r))}),d(6,"i",18),p(7," Edit "),n()(),a(8,"li")(9,"a",19),h("click",function(){let r=u(e).item,m=c(2);return g(m.delete(r))}),d(10,"i",20),p(11," Delete "),n()()()()}}function jt(o,i){if(o&1){let e=F();J(0),a(1,"app-table",4),h("addButton",function(r){u(e);let m=c();return g(m.add(r))})("reload",function(){u(e);let r=c();return g(r.reload())})("changePage",function(r){u(e);let m=c();return g(m.pageChanged(r))}),d(2,"data-table-column",5)(3,"data-table-column",6)(4,"data-table-column",7)(5,"data-table-column",8),a(6,"data-table-column",9),_(7,Lt,2,1,"ng-template",null,2,O),n(),a(9,"data-table-column",10),_(10,Qt,12,0,"ng-template",null,2,O),n()(),K()}if(o&2){let e=i.ngIf;s(),l("indexColumn",!1)("sortBy",e.filter==null?null:e.filter.sortBy)("searchText",e.filter==null?null:e.filter.searchText)("sortDir",e.filter==null?null:e.filter.sortDir)("itemCount",e.data==null?null:e.data.total)("items",e.data==null?null:e.data.data)("page",e.filter==null?null:e.filter.page),s(),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!0),s(),l("sortable",!0),s(3),l("sortable",!1)}}var He=class o{constructor(i){this.modalService=i}_store=I(Ve);vm$=this._store.vm$;ngOnInit(){this._store.loadData(this._store.filter$)}delete=i=>H(this,null,function*(){this.modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:"click confirm or close"}).subscribe(e=>{this._store.delete(i.id),this._store.reset()})});add(i){i.preventDefault(),this.modalService.openModal(Le,null,{modalTitle:"Create Question"}).subscribe(e=>{this._store.reset()})}edit(i){this.modalService.openModal(Le,i,{modalTitle:"Edit Question"}).subscribe(e=>{this._store.reset()})}pageChanged(i){let e=[];e.push({column:"name",value:de(i),operator:"like"}),i=T(D({},i),{searchFilters:e}),this._store.updateFilter(i)}reload(){this._store.reset()}static \u0275fac=function(e){return new(e||o)(A(ue))};static \u0275cmp=M({type:o,selectors:[["app-article-list"]],standalone:!1,features:[V([Ve])],decls:6,vars:3,consts:[["confirmationModal",""],["modal",""],["dataTableCell",""],[4,"ngIf"],["headerTitle","Articles",3,"addButton","reload","changePage","indexColumn","sortBy","searchText","sortDir","itemCount","items","page"],["header","#","property","id",3,"sortable"],["header","Title","property","title",3,"sortable"],["header","Slug","property","slug",3,"sortable"],["header","Short Text","property","short_text",3,"sortable"],["header","Tags","property","tags",3,"sortable"],["header","Action",3,"sortable"],[1,"d-flex","align-items-center","justify-content-between"],[4,"ngFor","ngForOf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","aria-label","Settings",1,"btn","btn-icon","btn-ghost","rounded-circle"],[1,"fa-solid","fa-ellipsis-vertical",2,"font-size","22px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fa","fa-edit","opacity-75","me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","opacity-75","me-2"]],template:function(e,t){e&1&&(_(0,jt,12,13,"ng-container",3),j(1,"async"),d(2,"div",null,0)(4,"div",null,1)),e&2&&l("ngIf",N(1,1,t.vm$))},dependencies:[Z,$,be,he,B],encapsulation:2})};var Nt=[{path:"categories",component:ke},{path:"questions",component:Oe},{path:"articles",component:He}],Ge=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=je({type:o});static \u0275inj=Qe({imports:[Ue.forChild(Nt),Ue]})};var pt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=je({type:o});static \u0275inj=Qe({imports:[Je,Ge,Xe,Ye,We]})};export{pt as SupportModule};
