import{a as F,b as B}from"./chunk-XG6UXUYY.js";import"./chunk-QX54BXSW.js";import"./chunk-I74O3MZN.js";import"./chunk-PHSYVHON.js";import"./chunk-AKGPCPJK.js";import{a as oe}from"./chunk-72ZV2RTL.js";import"./chunk-TC2VSDNX.js";import"./chunk-GP456TAF.js";import"./chunk-6I7PN7HP.js";import{b as te}from"./chunk-QYOQXKGA.js";import{a as Y}from"./chunk-HQV6Q54H.js";import{a as ie,b as ne,c as re}from"./chunk-Z2N3KAJX.js";import{z as X}from"./chunk-ZUXETJBN.js";import{e as ee}from"./chunk-LOXVGAEK.js";import{c as Z}from"./chunk-QVSNJCSE.js";import{Ca as p,Ha as m,Hb as U,Ja as E,Jb as J,Ma as L,Nb as K,Ob as W,Pa as o,Qa as n,Ra as c,Sa as $,Ta as O,Va as C,W as b,Wa as g,Xa as d,Z as T,_a as M,a as w,ab as q,b as S,bb as z,ca as _,cb as Q,d as R,da as f,eb as r,ec as V,fb as H,gb as v,mb as G,qa as D,sa as l,sb as k,tb as I,vb as x,wa as j,xa as A,ya as N,za as h}from"./chunk-QYSCFILT.js";var se=["modal"];function me(t,i){if(t&1){let e=C();o(0,"ul",11)(1,"li",12)(2,"a",13),g("click",function(){_(e);let a=d(2);return f(a.filterChanged("active","published"))}),r(3,"Published"),n()(),o(4,"li",12)(5,"a",14),g("click",function(){_(e);let a=d(2);return f(a.filterChanged("active","draft"))}),r(6,"Draft"),n()()()}if(t&2){let e=d(2);l(2),E("active",e.activeTab==="published"),l(3),E("active",e.activeTab==="draft")}}function ce(t,i){if(t&1&&(o(0,"div",15)(1,"div",16),c(2,"img",17),n(),o(3,"div",18)(4,"span",19),r(5,"Active"),n(),o(6,"h6",20)(7,"a",21),r(8),n()(),o(9,"div",22)(10,"span"),r(11),n(),o(12,"span"),r(13),n(),o(14,"div",23),r(15),k(16,"currency"),n(),o(17,"div",24)(18,"div",25),c(19,"i",26),r(20," 13 "),n(),o(21,"div",25),c(22,"i",27),r(23," 4 "),n()()(),o(24,"div",28)(25,"span",29),r(26,"Sales:"),n(),r(27," 47 "),n(),o(28,"div",30)(29,"span",29),r(30,"Earnings:"),n(),r(31," $669.75 "),n()()()),t&2){let e=i.item;l(2),M("src",e.image,D),M("alt",e.name),l(6),H(e.name),l(3),v("Category: ",e.category.name,""),l(2),v("Brand: ",e.brand.name,""),l(2),v(" ",I(16,6,e.sale_price)," ")}}function de(t,i){t&1&&(o(0,"span",33),r(1,"Published"),n())}function pe(t,i){t&1&&(o(0,"span",34),r(1,"Draft"),n())}function ue(t,i){t&1&&(o(0,"span",33),r(1,"Featured"),n())}function _e(t,i){if(t&1&&p(0,de,2,0,"span",31)(1,pe,2,0,"span",32)(2,ue,2,0,"span",31),t&2){let e=i.item;m("ngIf",e.active===!0),l(),m("ngIf",e.active!==!0),l(),m("ngIf",e.featured===!0)}}function fe(t,i){if(t&1&&r(0),t&2){let e=d().item;v(" ",e.quantity," ")}}function ge(t,i){t&1&&(o(0,"span",34),r(1,"Out of Stock"),n())}function xe(t,i){if(t&1&&p(0,fe,1,1)(1,ge,2,0,"span",34),t&2){let e=i.item;L(e.quantity>0?0:1)}}function ve(t,i){t&1&&r(0," Hide ")}function be(t,i){t&1&&r(0,"Publish ")}function he(t,i){if(t&1){let e=C();o(0,"div",35)(1,"button",36),c(2,"i",37),n(),o(3,"ul",38)(4,"li")(5,"a",39),g("click",function(){let a=_(e).item,u=d(2);return f(u.edit(a))}),c(6,"i",40),r(7," Edit "),n()(),o(8,"li")(9,"a",41),c(10,"i",42),r(11," Promote "),n()(),o(12,"li")(13,"a",39),g("click",function(){let a=_(e).item,u=d(2);return f(u.makeActive(a))}),c(14,"i",43),p(15,ve,1,0)(16,be,1,0),n()(),o(17,"li")(18,"a",44),g("click",function(){let a=_(e).item,u=d(2);return f(u.delete(a))}),c(19,"i",45),r(20," Delete "),n()()()()}if(t&2){let e=i.item;l(15),L(e.active?15:16)}}function Ce(t,i){if(t&1){let e=C();$(0),o(1,"app-table",4),g("addButton",function(a){_(e);let u=d();return f(u.add(a))})("reload",function(){_(e);let a=d();return f(a.reload())})("changePage",function(a){_(e);let u=d();return f(u.pageChanged(a))}),p(2,me,7,4,"ng-template",null,1,x),o(4,"data-table-column",5),p(5,ce,32,8,"ng-template",null,2,x),n(),o(7,"data-table-column",6),p(8,_e,3,3,"ng-template",null,2,x),n(),c(10,"data-table-column",7)(11,"data-table-column",8),o(12,"data-table-column",9),p(13,xe,2,1,"ng-template",null,2,x),n(),o(15,"data-table-column",10),p(16,he,21,1,"ng-template",null,2,x),n()(),O()}if(t&2){let e=i.ngIf;l(),m("indexColumn",!1)("sortBy",e.filter==null?null:e.filter.sortBy)("sortDir",e.filter==null?null:e.filter.sortDir)("searchText",e.filter==null?null:e.filter.searchText)("itemCount",e.data==null?null:e.data.total)("items",e.data==null?null:e.data.data)("page",e.filter.page),l(3),m("sortable",!0),l(3),m("sortable",!0),l(3),m("sortable",!0),l(),m("sortable",!0),l(),m("sortable",!0),l(3),m("sortable",!1)}}var y=class t{constructor(i){this.modalService=i}entry;sub;activeTab="";_store=T(F);vm$=this._store.vm$;_globalStore=T(ee);globalvm$=this._globalStore.vm$;ngOnInit(){this._store.loadData(this._store.filter$)}edit(i){this.sub=this.modalService.openModal(B,i,{modalTitle:"Edit Product"}).subscribe(e=>{this._store.reset()})}delete=i=>R(this,null,function*(){this.sub=this.modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:"click confirm or close"}).subscribe(e=>{this._store.delete(i.id),this._store.reset()})});add(i){i.preventDefault(),this.sub=this.modalService.openModal(B,null,{modalTitle:"Create Product"}).subscribe(e=>{this._store.reset()})}pageChanged(i){let e=[];e.push({column:"name",value:Z(i),operator:"like"}),i=S(w({},i),{searchFilters:e}),this._store.updateFilter(i)}reload(){this._store.reset()}makeActive(i){let e=i.active?"This will hide the product from everywhere in the website":"This will show the product in all relevant places",s=i.active?"Hide":"Publish";this.sub=this.modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:e,saveButtonLabel:s}).subscribe(a=>{this._store.makeActive(i).subscribe()})}filterChanged(i,e){this.activeTab=e===this.activeTab?"":e;let s=[];s.push({column:i,value:this.activeTab===""?void 0:this.activeTab==="published",operator:"="});let a=S(w({},Y),{searchFilters:s});this._store.updateFilter(a)}static \u0275fac=function(e){return new(e||t)(j(te))};static \u0275cmp=N({type:t,selectors:[["app-product-list"]],viewQuery:function(e,s){if(e&1&&q(se,5,A),e&2){let a;z(a=Q())&&(s.entry=a.first)}},standalone:!1,features:[G([F])],decls:4,vars:3,consts:[["confirmationModal",""],["filterBar",""],["dataTableCell",""],[4,"ngIf"],["headerTitle","Products",3,"addButton","reload","changePage","indexColumn","sortBy","sortDir","searchText","itemCount","items","page"],["header","Product","property","name",3,"sortable"],["header","Status","property","active",3,"sortable"],["header","Sales","property","sales",3,"sortable"],["header","Earnings","property","earnings",3,"sortable"],["header","Stock","property","quantity",3,"sortable"],["header","Action",3,"sortable"],[1,"nav","nav-pills","nav-fill"],[1,"nav-item"],["aria-current","page","href","javascript:void(0)",1,"nav-link",3,"click"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"d-flex","align-items-start","align-items-md-center","hover-effect-scale","position-relative","py-1"],[1,"bg-body-secondary","rounded","overflow-hidden","flex-shrink-sm-0",2,"max-width","142px"],[1,"hover-effect-target",2,"width","100px",3,"src","alt"],[1,"ps-2","ps-sm-3","ms-1"],[1,"badge","fs-xs","text-success","bg-success-subtle","rounded-pill","d-md-none","mb-1"],[1,"product","mb-2"],["href","shop-product-marketplace.html",1,"fs-sm","fw-medium","hover-effect-underline","stretched-link"],[1,"d-flex","flex-md-column","align-items-center","align-items-md-start","gap-2"],[1,"h6","mb-0","me-1","me-md-0"],[1,"d-flex","gap-2"],[1,"d-flex","align-items-center","fs-xs","text-body-emphasis","bg-body-tertiary","rounded-pill","px-2","py-1"],[1,"fa","fa-heart","text-body-secondary","me-1"],[1,"fa","fa-message","text-body-secondary","me-1"],[1,"fs-xs","text-nowrap","d-md-none","mt-2","mb-1"],[1,"text-body-secondary"],[1,"fs-xs","text-nowrap","d-sm-none"],["class","status badge fs-xs text-success bg-success-subtle rounded-pill",4,"ngIf"],["class","status badge fs-xs text-warning bg-warning-subtle rounded-pill",4,"ngIf"],[1,"status","badge","fs-xs","text-success","bg-success-subtle","rounded-pill"],[1,"status","badge","fs-xs","text-warning","bg-warning-subtle","rounded-pill"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","aria-label","Settings",1,"btn","btn-icon","btn-ghost","rounded-circle"],[1,"fa-solid","fa-ellipsis-vertical",2,"font-size","22px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"fa","fa-edit","opacity-75","me-2"],["href","javascript:void(0)",1,"dropdown-item"],[1,"fa","fa-zap","fs-base","opacity-75","me-2"],[1,"fa","fa-archive","opacity-75","me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","opacity-75","me-2"]],template:function(e,s){e&1&&(p(0,Ce,18,13,"ng-container",3),k(1,"async"),c(2,"div",null,0)),e&2&&m("ngIf",I(1,1,s.vm$))},dependencies:[U,ne,ie,J,K],styles:[".fw-medium[_ngcontent-%COMP%]{font-weight:500!important}.fs-sm[_ngcontent-%COMP%]{font-size:.875rem!important}"]})};var ye=[{path:"",component:y}],P=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=h({type:t});static \u0275inj=b({imports:[V.forChild(ye),V]})};var le=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=h({type:t});static \u0275inj=b({imports:[W,P,oe,re,X]})};export{le as ProductsModule};
