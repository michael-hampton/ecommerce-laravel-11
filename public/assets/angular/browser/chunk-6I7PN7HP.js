import{b as h}from"./chunk-LOXVGAEK.js";import{a,b as o,d as c}from"./chunk-QYSCFILT.js";var f=class extends h{initialState;constructor(e){super(e),this.initialState=e}filter$=this.select(({filter:e})=>e);updateFilter(e){this.patchState(i=>({filter:a(a({},i.filter),o(a({},e),{searchFilters:this.applyFilters(i,e)}))}))}applyFilters(e,i){if(!e.filter.searchFilters.length)return i.searchFilters.filter(t=>t.value!==void 0);let r=e.filter.searchFilters;return Object.keys(r).forEach(t=>{i.searchFilters.forEach(l=>{l.column===r[t]?.column&&(l.value!==void 0&&l.value!==""?r[t].value=l.value:r=r.filter(s=>s.column!==l.column))})}),i.searchFilters.forEach(t=>{!r.find(s=>s.column===t.column)&&t.value&&r.push(t)}),r}reset(){return c(this,null,function*(){this.patchState(e=>({filter:o(a({},this.initialState.filter),{page:e.filter.page,searchText:e.filter.searchText,sortBy:e.filter.sortBy,sortDir:e.filter.sortDir})}))})}};export{f as a};
