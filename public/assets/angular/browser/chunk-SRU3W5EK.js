import{a as Mt}from"./chunk-GJMH336B.js";import{a as Qt,b as jt}from"./chunk-2IJ35MT7.js";import{a as Xe}from"./chunk-I74O3MZN.js";import"./chunk-PHSYVHON.js";import{a as Bt}from"./chunk-YWFJMAOT.js";import{a as W}from"./chunk-DHAGYSFQ.js";import{b as Ke}from"./chunk-AKGPCPJK.js";import{a as _e,b as pe}from"./chunk-TC2VSDNX.js";import"./chunk-GP456TAF.js";import{b as We}from"./chunk-QYOQXKGA.js";import{c as At}from"./chunk-Z2N3KAJX.js";import{b as It,c as he,e as K,g as ie,h as ne,i as Tt,j as E,l as se,n as re,q as oe,r as $e,s as Le,u as He,v as ze,w as Nt,x as ae,y as Rt,z as Ft}from"./chunk-ZUXETJBN.js";import{a as j,b as le,e as me}from"./chunk-LOXVGAEK.js";import{a as Ue,d as G}from"./chunk-QVSNJCSE.js";import{$a as M,Aa as ve,B as Me,Ca as v,Gb as be,Ha as f,Hb as te,Ib as Q,Ja as Et,Jb as ue,L as u,Ma as D,Na as wt,Oa as xt,Ob as k,P as d,Pa as o,Pb as pt,Qa as r,Qb as Dt,R as H,Ra as y,Sa as Pt,Ta as Ot,Ua as B,V as A,Va as X,W as ye,Wa as L,X as Qe,Xa as C,Y as w,Yb as kt,Z as P,_ as Ct,a as z,ab as O,b as de,ba as I,bb as b,c as Ae,ca as V,cb as _,d as S,da as $,db as Se,ea as je,eb as m,ec as ct,f as St,fa as Ge,fb as ce,gb as Ve,i as mt,ja as l,ma as bt,mb as Z,oa as qe,p as c,sa as h,sb as J,ta as N,tb as ee,u as Be,vb as fe,wa as g,xa as _t,ya as x,yb as Ce,za as ge}from"./chunk-QYSCFILT.js";var Xt={loading:!1,notification_types:{}},xe=class n extends le{constructor(e,t){super(Xt);this._notificationApi=e;this._globalStore=t}vm$=this.select(e=>({loading:e.loading,notification_types:e.notification_types}));getNotificationTypes(e){return this._notificationApi.getTypes(e).pipe(H(()=>this.patchState({loading:!0})),j({next:t=>this.patchState({notification_types:t}),error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})}))}saveNotificationTypes=e=>this._notificationApi.saveNotifications(e).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:t=>this._globalStore.setSuccess("Saved successfully"),error:t=>{this._globalStore.setLoading(!1),this._globalStore.setError(G(t))},finalize:()=>this._globalStore.setLoading(!1)}));static \u0275fac=function(t){return new(t||n)(w(Qt),w(me))};static \u0275prov=A({token:n,factory:n.\u0275fac})};var Wt=(n,s)=>s.id;function Yt(n,s){if(n&1&&(o(0,"div",3),y(1,"input",5),o(2,"label",6)(3,"span",7),m(4),r(),o(5,"span",8),m(6),r()()()),n&2){let e=s.$implicit;h(),f("formControlName",e.id),h(3),ce(e.name),h(2),ce(e.description)}}function Zt(n,s){if(n&1){let e=X();o(0,"form",1)(1,"div",2),wt(2,Yt,7,3,"div",3,Wt),r(),o(4,"button",4),L("click",function(){V(e);let i=C();return $(i.submitForm())}),m(5,"Save Preferences"),r()()}if(n&2){let e=s.ngIf,t=C();f("formGroup",t.form),h(2),xt(e.notification_types.types)}}var Ye=class n{_authService=P(Xe);fb=P(ae);form;_store=P(xe);vm$=this._store.vm$;ngOnInit(){let s=this._authService.GetUser().payload.id;this.form=this.fb.group({dynamicFields:this.fb.array([])}),this._store.getNotificationTypes(Number(s)).subscribe(e=>{console.log("results",e),this.form=new Tt(Object.fromEntries(e.types.map(t=>[t.id,new E(e.user_types.find(i=>i.notification_type===t.id)||!1,{nonNullable:!0})])))})}get dynamicFields(){return this.form.get("dynamicFields")}getField(s){return this.form.get("dynamicFields")[s].controls}submitForm(){this._store.saveNotificationTypes({notification_types:this.form.value}).subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-notifications"]],standalone:!1,features:[Z([xe])],decls:2,vars:3,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"vstack","gap-4","pt-sm-1"],[1,"form-check","form-switch","mb-0"],["type","submit",1,"btn","btn-primary","mt-5",3,"click"],["type","checkbox","id","product-sold","checked","",1,"form-check-input",3,"formControlName"],["for","product-sold",1,"form-check-label","ps-2"],[1,"d-block","h6","mb-2"],[1,"fs-sm"]],template:function(e,t){e&1&&(v(0,Zt,6,1,"form",0),J(1,"async")),e&2&&f("ngIf",ee(1,1,t.vm$))},dependencies:[te,se,It,ie,ne,re,oe,pe,ue],encapsulation:2})};var ei={loading:!1},ke=class n extends le{constructor(e,t){super(ei);this._api=e;this._globalStore=t}vm$=this.select(e=>({loading:e.loading}));saveBilling=e=>{let a=e,{id:t}=a,i=Ae(a,["id"]);return this._api.saveBilling(e).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:p=>this._globalStore.setSuccess("Saved successfully"),error:p=>{this._globalStore.setLoading(!1),this._globalStore.setError(G(p))},finalize:()=>this._globalStore.setLoading(!1)}))};static \u0275fac=function(t){return new(t||n)(w(W),w(me))};static \u0275prov=A({token:n,factory:n.\u0275fac})};function ti(n,s){n&1&&(o(0,"div",9)(1,"div",10)(2,"span",11),m(3,"Loading..."),r()()())}function ii(n,s){if(n&1&&(o(0,"option",30),m(1),r()),n&2){let e=s.$implicit;f("value",e.id),h(),Ve(" ",e.name," ")}}function ni(n,s){if(n&1&&(o(0,"div",14)(1,"label",15),m(2,"Country"),r(),o(3,"select",28),v(4,ii,2,2,"option",29),r()()),n&2){let e=s.ngIf;h(4),f("ngForOf",e.countries)}}function si(n,s){if(n&1&&(o(0,"form",12)(1,"div",13)(2,"div",14)(3,"label",15),m(4,"Address"),r(),y(5,"input",16),r(),o(6,"div",14)(7,"label",17),m(8,"Address 2"),r(),y(9,"input",18),r()(),o(10,"div",13)(11,"div",19)(12,"label",20),m(13,"City"),r(),y(14,"input",21),r(),o(15,"div",19)(16,"label",22),m(17,"State"),r(),y(18,"input",23),r(),o(19,"div",24)(20,"label",25),m(21,"Zip"),r(),y(22,"input",26),r()(),v(23,ni,5,1,"div",27),J(24,"async"),r()),n&2){let e=C(2);f("formGroup",e.form),h(23),f("ngIf",ee(24,2,e.lookupVm$))}}function ri(n,s){if(n&1){let e=X();o(0,"div",1)(1,"div",2)(2,"h5",3),m(3,"Billing"),r()(),o(4,"div",4),v(5,ti,4,0,"div",5)(6,si,25,4,"form",6),r(),o(7,"div",7)(8,"button",8),L("click",function(){V(e);let i=C();return $(i.saveBilling())}),m(9,"Save"),r()()()}if(n&2){let e=s.ngIf;h(5),f("ngIf",e.loading),h(),f("ngIf",!e.loading)}}var Je=class n{_store=P(ke);vm$=this._store.vm$;_lookupStore=P(Ke);lookupVm$=this._lookupStore.vm$;_api=P(W);fb=P(ae);form;ngOnInit(){this.initBillingForm(),this._lookupStore.getCountries(),this._api.getBilling().subscribe(s=>{this.form.patchValue({address1:s.address1,address2:s.address2,city:s.city,state:s.state,zip:s.zip,country_id:s.country_id})})}saveBilling(){if(this.form?.valid){let s={address1:this.form.value.address1,address2:this.form.value.address2,city:this.form.value.city,state:this.form.value.state,zip:this.form.value.zip,country_id:this.form.value.country_id};console.log("model",s),this._store.saveBilling(s).subscribe()}}initBillingForm(){this.form=this.fb.group({address1:new E(""),address2:new E(""),city:new E(""),state:new E(""),zip:new E(""),country_id:new E("")})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-billing"]],standalone:!1,features:[Z([ke])],decls:2,vars:3,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","d-flex justify-content-center overlay",4,"ngIf"],["method","post","admin-form","","enctype","multipart/form-data",3,"formGroup",4,"ngIf"],[1,"card-footer","text-end"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-center","overlay"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],["method","post","admin-form","","enctype","multipart/form-data",3,"formGroup"],[1,"row"],[1,"form-group","col-lg-6"],["for","inputAddress"],["type","text","id","inputAddress","name","address1","placeholder","1234 Main St","formControlName","address1",1,"form-control"],["for","inputAddress2"],["type","text","id","inputAddress2","name","address2","placeholder","Apartment, studio, or floor","formControlName","address2",1,"form-control"],[1,"form-group","col-lg-4"],["for","city"],["type","text","id","city","name","city","formControlName","city",1,"form-control"],["for","state"],["type","text","id","state","name","state","formControlName","state",1,"form-control"],[1,"form-group","col-lg-3"],["for","inputZip"],["type","text","id","inputZip","name","zip","formControlName","zip",1,"form-control"],["class","form-group col-lg-6",4,"ngIf"],["id","country_id","name","country_id","formControlName","country_id",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){e&1&&(v(0,ri,10,2,"div",0),J(1,"async")),e&2&&f("ngIf",ee(1,1,t.vm$))},dependencies:[be,te,se,Le,He,he,$e,ie,ne,re,oe,_e,pe,ue],encapsulation:2})};var ai={loading:!1,bank_account_details:{},editingBankDetails:!1},Ie=class n extends le{constructor(e,t){super(ai);this._api=e;this._globalStore=t}bank_account$=this.select(({bank_account_details:e})=>e);vm$=this.select(e=>({loading:e.loading,editingBankDetails:e.editingBankDetails}));deleteBankAccount(e){return this._api.deleteBankAccount(e).pipe(H(()=>this.patchState({loading:!0})),j({next:t=>{this.patchState({bank_account_details:{}}),this._globalStore.setSuccess("Deleted successfully")},error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})}))}saveBankDetails=e=>this._api.saveBankDetails(e).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:t=>this._globalStore.setSuccess("Saved successfully"),error:t=>{this._globalStore.setLoading(!1),this._globalStore.setError(G(t))},finalize:()=>this._globalStore.setLoading(!1)}));toggleForm=this.updater(e=>de(z({},e),{editingBankDetails:!e.editingBankDetails}));static \u0275fac=function(t){return new(t||n)(w(W),w(me))};static \u0275prov=A({token:n,factory:n.\u0275fac})};function li(n,s){n&1&&(o(0,"div",10)(1,"div",11)(2,"span",12),m(3,"Loading..."),r()()())}function mi(n,s){if(n&1&&(o(0,"span"),m(1),r(),o(2,"span"),m(3),r()),n&2){let e=C(3);h(),ce(e.form.controls.accountHolderName.value),h(2),ce(e.form.controls.accountNumber.value)}}function pi(n,s){n&1&&(o(0,"span"),m(1,"Close "),r(),y(2,"i",14))}function ci(n,s){if(n&1){let e=X();o(0,"div")(1,"div",13),L("click",function(){V(e);let i=C(2);return $(i.toggleBankDetailsForm())}),v(2,mi,4,2)(3,pi,3,0),r()()}if(n&2){let e=C().ngIf;h(2),D(e.editingBankDetails?3:2)}}function di(n,s){n&1&&(o(0,"span"),m(1,"Add Bank Account "),r(),y(2,"i",17))}function ui(n,s){n&1&&(o(0,"span"),m(1,"Close "),r(),y(2,"i",14))}function hi(n,s){if(n&1){let e=X();o(0,"div",15)(1,"a",16),L("click",function(){V(e);let i=C(2);return $(i.toggleBankDetailsForm())}),v(2,di,3,0)(3,ui,3,0),r()()}if(n&2){let e=C().ngIf;h(2),D(e.editingBankDetails?3:2)}}function fi(n,s){if(n&1){let e=X();o(0,"form",18)(1,"div",19)(2,"label",20),m(3,"Account Holder Name"),r(),y(4,"input",21),r(),o(5,"div",19)(6,"label",22),m(7,"Account Number"),r(),y(8,"input",23),r(),o(9,"div",19)(10,"label",24),m(11,"Sort Code"),r(),y(12,"input",25),r(),o(13,"div",19)(14,"label",26),m(15,"Bank Name"),r(),y(16,"input",27),r(),o(17,"button",28),L("click",function(){V(e);let i=C(2);return $(i.saveBankDetails())}),m(18,"Save"),r(),o(19,"button",29),L("click",function(){V(e);let i=C(2);return $(i.deleteBankAccount())}),m(20," Delete "),r()()}if(n&2){let e=C(2);f("formGroup",e.form)}}function yi(n,s){if(n&1&&(o(0,"div",2)(1,"div",3)(2,"h5",4),m(3,"Bank Details"),r()(),o(4,"div",5),v(5,li,4,0,"div",6)(6,ci,4,1,"div",7),o(7,"div"),v(8,hi,4,1,"div",8),r(),v(9,fi,21,1,"form",9),r(),y(10,"div",null,0),r()),n&2){let e=s.ngIf,t=C();h(5),f("ngIf",e.loading),h(),f("ngIf",t.hasBankAccount),h(2),f("ngIf",!t.hasBankAccount),h(),f("ngIf",!e.loading&&e.editingBankDetails)}}var et=class n{_store=P(Ie);_api=P(W);vm$=this._store.vm$;fb=P(ae);form;_modalService=P(We);hasBankAccount=!1;ngOnInit(){this.initBankDetailsForm(),this._api.getSellerBankAccountDetails().subscribe(s=>{s&&(console.log("result",s),this.form.patchValue({id:s.id,accountHolderName:s.account_name,accountNumber:s.account_number,routingNumber:s.sort_code,bankName:s.bank_name}),this.hasBankAccount=!0)})}deleteBankAccount(){this._modalService.openConfirmationModal({modalTitle:"Are you sure?",modalBody:"click confirm or close"}).subscribe(s=>{this._store.deleteBankAccount(this.form.value.id).subscribe(()=>{this.form.reset()})})}saveBankDetails(){if(this.form?.valid){let s={account_name:this.form.value.accountHolderName,account_number:this.form.value.accountNumber,sort_code:this.form.value.routingNumber,bank_name:this.form.value.bankName};this._store.saveBankDetails(s).subscribe()}}initBankDetailsForm(){this.form=this.fb.group({id:new E(null),accountHolderName:new E("",[K.required]),accountNumber:new E("",[K.required]),routingNumber:new E("",[K.required]),bankName:new E("",[K.required])})}toggleBankDetailsForm(){this._store.toggleForm()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-bank-details"]],standalone:!1,features:[Z([Ie])],decls:2,vars:3,consts:[["modal",""],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","d-flex justify-content-center overlay",4,"ngIf"],[4,"ngIf"],["class","list-group-item mb-3",4,"ngIf"],["admin-form","",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-center","overlay"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],[1,"d-flex","align-items-center","justify-content-between","mb-3",3,"click"],[1,"fa-solid","fa-close"],[1,"list-group-item","mb-3"],[1,"d-flex","align-items-center","justify-content-between",2,"text-decoration","none",3,"click"],[1,"fa-solid","fa-arrow-right"],["admin-form","",3,"formGroup"],[1,"mb-3"],["for","accountHolderName",1,"form-label"],["type","text","id","accountHolderName","placeholder","Full Name","formControlName","accountHolderName",1,"form-control"],["for","accountNumber",1,"form-label"],["type","text","id","accountNumber","placeholder","Account Number","formControlName","accountNumber",1,"form-control"],["for","routingNumber",1,"form-label"],["type","text","id","routingNumber","placeholder","Sort Code","formControlName","routingNumber",1,"form-control"],["for","bankName",1,"form-label"],["type","text","id","bankName","placeholder","Bank Name","formControlName","bankName",1,"form-control"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){e&1&&(v(0,yi,12,4,"div",1),J(1,"async")),e&2&&f("ngIf",ee(1,1,t.vm$))},dependencies:[te,se,he,ie,ne,re,oe,_e,pe,ue],encapsulation:2})};var tt=class n{constructor(s){this.httpClient=s}createPaymentIntent(){return this.httpClient.get(`${Ue.apiUrl}/stripe/create-payment-intent`)}static \u0275fac=function(e){return new(e||n)(w(kt))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var Si={card_details:[],loading:!1,id:"",addCardPressed:!1},Te=class n extends le{constructor(e,t,i){super(Si);this._api=e;this._globalStore=t;this._stripeApi=i}cards$=this.select(({card_details:e})=>e);id$=this.select(({id:e})=>e);vm$=this.select(e=>({loading:e.loading,card_details:e.card_details,addCardPressed:e.addCardPressed}));getSellerCardDetails=this.effect(e=>e.pipe(H(()=>this.patchState({loading:!0})),d(()=>this._api.getSellerCardDetails().pipe(j({next:t=>this.patchState({card_details:t}),error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})})))));createPaymentIntent=this.effect(e=>e.pipe(H(()=>this.patchState({loading:!0})),d(()=>this._stripeApi.createPaymentIntent().pipe(j({next:t=>this.patchState({id:t.id}),error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})})))));addCard=this.updater((e,t)=>de(z({},e),{card_details:[...e.card_details,t]}));updateCard=this.updater((e,t)=>de(z({},e),{card_details:e.card_details.map(i=>i.id===t.id?t:i)}));saveCardDetails=e=>(e.id?this._api.updateCard(e,e.id):this._api.addNewCard(e)).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:i=>{e.id?this.updateCard(i.data):this.addCard(i.data),this._globalStore.setSuccess("Saved successfully")},error:i=>{this._globalStore.setLoading(!1),this._globalStore.setError(G(i))},finalize:()=>this._globalStore.setLoading(!1)}));removeCard=this.updater((e,t)=>de(z({},e),{card_details:e.card_details.filter(i=>i.id!==t)}));deleteCard=this.effect(St(H(()=>this._globalStore.setLoading(!0)),d(e=>this._api.removeCard(e).pipe(j({next:t=>{this.removeCard(e),this._globalStore.setSuccess("Deleted successfully")},error:t=>this._globalStore.setError(G(t)),finalize:()=>this._globalStore.setLoading(!1)})))));toggleForm=this.updater(e=>de(z({},e),{addCardPressed:!e.addCardPressed}));static \u0275fac=function(t){return new(t||n)(w(W),w(me),w(tt))};static \u0275prov=A({token:n,factory:n.\u0275fac})};var qt={hidePostalCode:!0,style:{base:{iconColor:"#666EE8",color:"#31325F",fontWeight:"300",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:"18px","::placeholder":{color:"#CFD7E0"}}}},Vt={locale:"en"};var R=["stripeElementRef"];function Ci(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function bi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function _i(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ei(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function wi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function xi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Pi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Oi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Di(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function ki(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ii(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ti(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ni(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ri(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Fi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Ai(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Bi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Mi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function Qi(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}function ji(n,s){if(n&1&&B(0,2),n&2){let e=C();f("ngTemplateOutlet",e.loadingTemplate)}}var q=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(g(N))};static \u0275dir=ve({type:n,selectors:[["","ngxStripeLoadingTemplate",""]]})}return n})(),ut=new Qe("Stripe Publishable Key"),ht=new Qe("Stripe Options"),ft=new Qe("NGX_STRIPE_VERSION"),Ne=class{version;loader;window;key;options;stripe$=new mt(void 0);stripe=this.stripe$.asObservable().pipe(Me(s=>!!s));constructor(s,e,t,i,a){this.version=s,this.loader=e,this.window=t,this.key=i,this.options=a,this.loader.asStream().pipe(Me(p=>p.loaded===!0),u(),Be(()=>this.window.getNativeWindow().Stripe)).subscribe(p=>{let Y=this.options?p(this.key,this.options):p(this.key);Y.registerAppInfo(this.getNgxStripeAppInfo(this.version)),this.stripe$.next(Y)})}getInstance(){return this.stripe$.getValue()}elements(s){return this.stripe.pipe(Be(e=>e.elements(s)),u())}redirectToCheckout(s){return this.stripe.pipe(d(e=>c(e.redirectToCheckout(s))),u())}confirmPayment(s){return this.stripe.pipe(d(e=>c(e.confirmPayment(s))),u())}confirmAcssDebitPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmAcssDebitPayment(s,e,t))),u())}confirmUsBankAccountPayment(s,e){return this.stripe.pipe(d(t=>c(t.confirmUsBankAccountPayment(s,e))),u())}confirmAlipayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmAlipayPayment(s,e,t))),u())}confirmAuBecsDebitPayment(s,e){return this.stripe.pipe(d(t=>c(t.confirmAuBecsDebitPayment(s,e))),u())}confirmBancontactPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmBancontactPayment(s,e,t))),u())}confirmBlikPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmBlikPayment(s,e,t))),u())}confirmBoletoPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmBoletoPayment(s,e,t))),u())}confirmCardPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmCardPayment(s,e,t))),u())}confirmCashappPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmCashappPayment(s,e,t))),u())}confirmCustomerBalancePayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmCustomerBalancePayment(s,e,t))),u())}confirmEpsPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmEpsPayment(s,e,t))),u())}confirmFpxPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmFpxPayment(s,e,t))),u())}confirmGiropayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmGiropayPayment(s,e,t))),u())}confirmGrabPayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmGrabPayPayment(s,e,t))),u())}confirmIdealPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmIdealPayment(s,e,t))),u())}confirmKlarnaPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmKlarnaPayment(s,e,t))),u())}confirmKonbiniPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmKonbiniPayment(s,e,t))),u())}confirmMobilepayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmMobilepayPayment(s,e,t))),u())}confirmOxxoPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmOxxoPayment(s,e,t))),u())}confirmP24Payment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmP24Payment(s,e,t))),u())}confirmPayNowPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmPayNowPayment(s,e,t))),u())}confirmPayPalPayment(s,e){return this.stripe.pipe(d(t=>c(t.confirmPayPalPayment(s,e))),u())}confirmPixPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmPixPayment(s,e,t))),u())}confirmPromptPayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmPromptPayPayment(s,e,t))),u())}confirmSepaDebitPayment(s,e){return this.stripe.pipe(d(t=>c(t.confirmSepaDebitPayment(s,e))),u())}confirmSofortPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmSofortPayment(s,e,t))),u())}confirmWechatPayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmWechatPayPayment(s,e,t))),u())}handleCardAction(s){return this.stripe.pipe(d(e=>c(e.handleCardAction(s))),u())}handleNextAction(s){return this.stripe.pipe(d(e=>c(e.handleNextAction(s))),u())}verifyMicrodepositsForPayment(s,e){return this.stripe.pipe(d(t=>c(t.verifyMicrodepositsForPayment(s,e))),u())}createRadarSession(){return this.stripe.pipe(d(s=>c(s.createRadarSession())),u())}collectBankAccountForPayment(s){return this.stripe.pipe(d(e=>c(e.collectBankAccountForPayment(s))),u())}createPaymentMethod(s){return this.stripe.pipe(d(e=>c(e.createPaymentMethod(s))),u())}createConfirmationToken(s){return this.stripe.pipe(d(e=>c(e.createConfirmationToken(s))),u())}retrievePaymentIntent(s){return this.stripe.pipe(d(e=>c(e.retrievePaymentIntent(s))),u())}confirmSetup(s){return this.stripe.pipe(d(e=>c(e.confirmSetup(s))),u())}confirmAcssDebitSetup(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmAcssDebitSetup(s,e,t))),u())}confirmUsBankAccountSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmUsBankAccountSetup(s,e))),u())}confirmAuBecsDebitSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmAuBecsDebitSetup(s,e))),u())}confirmBacsDebitSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmBacsDebitSetup(s,e))),u())}confirmBancontactSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmBancontactSetup(s,e))),u())}confirmCardSetup(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmCardSetup(s,e,t))),u())}confirmCashappSetup(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmCashappSetup(s,e,t))),u())}confirmIdealSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmIdealSetup(s,e))),u())}confirmPayPalSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmPayPalSetup(s,e))),u())}confirmSepaDebitSetup(s,e){return this.stripe.pipe(d(t=>c(t.confirmSepaDebitSetup(s,e))),u())}confirmSofortSetup(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmSofortSetup(s,e,t))),u())}confirmAffirmPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmAffirmPayment(s,e,t))),u())}confirmAfterpayClearpayPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmAfterpayClearpayPayment(s,e,t))),u())}verifyMicrodepositsForSetup(s,e){return this.stripe.pipe(d(t=>c(t.verifyMicrodepositsForSetup(s,e))),u())}collectBankAccountForSetup(s){return this.stripe.pipe(d(e=>c(e.collectBankAccountForSetup(s))),u())}retrieveSetupIntent(s){return this.stripe.pipe(d(e=>c(e.retrieveSetupIntent(s))),u())}processOrder(s){return this.stripe.pipe(d(e=>c(e.processOrder(s))),u())}retrieveOrder(s){return this.stripe.pipe(d(e=>c(e.retrieveOrder(s))),u())}paymentRequest(s){return this.getInstance().paymentRequest(s)}createToken(s,e){return this.stripe.pipe(d(t=>c(t.createToken(s,e))),u())}createSource(s,e){return this.stripe.pipe(d(t=>c(t.createSource(s,e))),u())}retrieveSource(s){return this.stripe.pipe(d(e=>c(e.retrieveSource(s))),u())}verifyIdentity(s){return this.stripe.pipe(d(e=>c(e.verifyIdentity(s))),u())}collectFinancialConnectionsAccounts(s){return this.stripe.pipe(d(e=>c(e.collectFinancialConnectionsAccounts(s))),u())}collectBankAccountToken(s){return this.stripe.pipe(d(e=>c(e.collectBankAccountToken(s))),u())}createEphemeralKeyNonce(s){return this.stripe.pipe(d(e=>c(e.createEphemeralKeyNonce(s))),u())}initCheckout(s){return this.stripe.pipe(d(e=>c(e.initCheckout(s))),u())}initEmbeddedCheckout(s){return this.stripe.pipe(d(e=>c(e.initEmbeddedCheckout(s))),u())}handleCardPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.handleCardPayment(s,e,t))),u())}confirmPaymentIntent(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmPaymentIntent(s,e,t))),u())}handleCardSetup(s,e,t){return this.stripe.pipe(d(i=>c(i.handleCardSetup(s,e,t))),u())}confirmSetupIntent(s,e,t){return this.stripe.pipe(d(i=>c(i.confirmSetupIntent(s,e,t))),u())}handleFpxPayment(s,e,t){return this.stripe.pipe(d(i=>c(i.handleFpxPayment(s,e,t))),u())}getNgxStripeAppInfo(s){return{name:"ngx-stripe",url:"https://ngx-stripe.dev",partner_id:"pp_partner_JR4l1rmvUoPP4V",version:s}}},it=(()=>{class n{platformId;constructor(e){this.platformId=e}getNativeWindow(){return pt(this.platformId)?window:{}}static \u0275fac=function(t){return new(t||n)(w(qe))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),$t=(()=>{class n{platformId;constructor(e){this.platformId=e}getNativeDocument(){return pt(this.platformId)?document:{}}static \u0275fac=function(t){return new(t||n)(w(qe))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),yt=(()=>{class n{platformId;window;document;status=new mt({error:!1,loaded:!1,loading:!1});constructor(e,t,i){this.platformId=e,this.window=t,this.document=i}asStream(){return this.load(),this.status.asObservable()}isReady(){return this.status.getValue().loaded}load(){if(Dt(this.platformId))return;let e=this.status.getValue();if(this.window.getNativeWindow().hasOwnProperty("Stripe"))this.status.next({error:!1,loaded:!0,loading:!1});else if(!e.loaded&&!e.loading){this.status.next(de(z({},e),{loading:!0}));let t=this.document.getNativeDocument().createElement("script");t.type="text/javascript",t.async=!0,t.defer=!0,t.src="https://js.stripe.com/v3/",t.onload=()=>{this.status.next({error:!1,loaded:!0,loading:!1})},t.onerror=()=>{this.status.next({error:!0,loaded:!1,loading:!1})},this.document.getNativeDocument().body.appendChild(t)}}static \u0275fac=function(t){return new(t||n)(w(qe),w(it),w($t))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Lt=(()=>{class n{version;key;options;loader;window;stripe;constructor(e,t,i,a,p){this.version=e,this.key=t,this.options=i,this.loader=a,this.window=p,t&&(this.stripe=new Ne(this.version,this.loader,this.window,t,i))}getStripeReference(){return this.loader.asStream().pipe(Me(e=>e.loaded===!0),Be(()=>this.window.getNativeWindow().Stripe))}getInstance(){return this.stripe.getInstance()}setKey(e,t){return this.changeKey(e,t)}changeKey(e,t){return this.stripe=new Ne(this.version,this.loader,this.window,e,t),this.stripe}elements(e){return this.stripe.elements(e)}redirectToCheckout(e){return this.stripe.redirectToCheckout(e)}confirmPayment(e){return this.stripe.confirmPayment(e)}confirmAcssDebitPayment(e,t,i){return this.stripe.confirmAcssDebitPayment(e,t,i)}confirmUsBankAccountPayment(e,t){return this.stripe.confirmUsBankAccountPayment(e,t)}confirmAlipayPayment(e,t,i){return this.stripe.confirmAlipayPayment(e,t,i)}confirmAuBecsDebitPayment(e,t){return this.stripe.confirmAuBecsDebitPayment(e,t)}confirmBancontactPayment(e,t,i){return this.stripe.confirmBancontactPayment(e,t,i)}confirmBlikPayment(e,t,i){return this.stripe.confirmBlikPayment(e,t,i)}confirmBoletoPayment(e,t,i){return this.stripe.confirmBoletoPayment(e,t,i)}confirmCardPayment(e,t,i){return this.stripe.confirmCardPayment(e,t,i)}confirmCashappPayment(e,t,i){return this.stripe.confirmCashappPayment(e,t,i)}confirmCustomerBalancePayment(e,t,i){return this.stripe.confirmCustomerBalancePayment(e,t,i)}confirmEpsPayment(e,t,i){return this.stripe.confirmEpsPayment(e,t,i)}confirmFpxPayment(e,t,i){return this.stripe.confirmFpxPayment(e,t,i)}confirmGiropayPayment(e,t,i){return this.stripe.confirmGiropayPayment(e,t,i)}confirmGrabPayPayment(e,t,i){return this.stripe.confirmGrabPayPayment(e,t,i)}confirmIdealPayment(e,t,i){return this.stripe.confirmIdealPayment(e,t,i)}confirmKlarnaPayment(e,t,i){return this.stripe.confirmKlarnaPayment(e,t,i)}confirmKonbiniPayment(e,t,i){return this.stripe.confirmKonbiniPayment(e,t,i)}confirmMobilepayPayment(e,t,i){return this.stripe.confirmMobilepayPayment(e,t,i)}confirmOxxoPayment(e,t,i){return this.stripe.confirmOxxoPayment(e,t,i)}confirmP24Payment(e,t,i){return this.stripe.confirmP24Payment(e,t,i)}confirmPayNowPayment(e,t,i){return this.stripe.confirmPayNowPayment(e,t,i)}confirmPayPalPayment(e,t){return this.stripe.confirmPayPalPayment(e,t)}confirmPixPayment(e,t,i){return this.stripe.confirmPixPayment(e,t,i)}confirmPromptPayPayment(e,t,i){return this.stripe.confirmPromptPayPayment(e,t,i)}confirmSepaDebitPayment(e,t){return this.stripe.confirmSepaDebitPayment(e,t)}confirmSofortPayment(e,t,i){return this.stripe.confirmSofortPayment(e,t,i)}confirmWechatPayPayment(e,t,i){return this.stripe.confirmWechatPayPayment(e,t,i)}handleCardAction(e){return this.stripe.handleCardAction(e)}handleNextAction(e){return this.stripe.handleNextAction(e)}verifyMicrodepositsForPayment(e,t){return this.stripe.verifyMicrodepositsForPayment(e,t)}createRadarSession(){return this.stripe.createRadarSession()}collectBankAccountForPayment(e){return this.stripe.collectBankAccountForPayment(e)}createPaymentMethod(e){return this.stripe.createPaymentMethod(e)}createConfirmationToken(e){return this.stripe.createConfirmationToken(e)}retrievePaymentIntent(e){return this.stripe.retrievePaymentIntent(e)}confirmSetup(e){return this.stripe.confirmSetup(e)}confirmAcssDebitSetup(e,t,i){return this.stripe.confirmAcssDebitSetup(e,t,i)}confirmUsBankAccountSetup(e,t){return this.stripe.confirmUsBankAccountSetup(e,t)}confirmAuBecsDebitSetup(e,t){return this.stripe.confirmAuBecsDebitSetup(e,t)}confirmBacsDebitSetup(e,t){return this.stripe.confirmBacsDebitSetup(e,t)}confirmBancontactSetup(e,t){return this.stripe.confirmBancontactSetup(e,t)}confirmCardSetup(e,t,i){return this.stripe.confirmCardSetup(e,t,i)}confirmCashappSetup(e,t,i){return this.stripe.confirmCashappSetup(e,t,i)}confirmIdealSetup(e,t){return this.stripe.confirmIdealSetup(e,t)}confirmPayPalSetup(e,t){return this.stripe.confirmPayPalSetup(e,t)}confirmSepaDebitSetup(e,t){return this.stripe.confirmSepaDebitSetup(e,t)}confirmSofortSetup(e,t,i){return this.stripe.confirmSofortSetup(e,t,i)}confirmAffirmPayment(e,t,i){return this.stripe.confirmAffirmPayment(e,t,i)}confirmAfterpayClearpayPayment(e,t,i){return this.stripe.confirmAfterpayClearpayPayment(e,t,i)}verifyMicrodepositsForSetup(e,t){return this.stripe.verifyMicrodepositsForSetup(e,t)}collectBankAccountForSetup(e){return this.stripe.collectBankAccountForSetup(e)}retrieveSetupIntent(e){return this.stripe.retrieveSetupIntent(e)}processOrder(e){return this.stripe.processOrder(e)}retrieveOrder(e){return this.stripe.retrieveOrder(e)}paymentRequest(e){return this.stripe.paymentRequest(e)}createToken(e,t){return this.stripe.createToken(e,t)}createSource(e,t){return this.stripe.createSource(e,t)}retrieveSource(e){return this.stripe.retrieveSource(e)}verifyIdentity(e){return this.stripe.verifyIdentity(e)}collectFinancialConnectionsAccounts(e){return this.stripe.collectFinancialConnectionsAccounts(e)}collectBankAccountToken(e){return this.stripe.collectBankAccountToken(e)}createEphemeralKeyNonce(e){return this.stripe.createEphemeralKeyNonce(e)}initCheckout(e){return this.stripe.initCheckout(e)}initEmbeddedCheckout(e){return this.stripe.initEmbeddedCheckout(e)}handleCardPayment(e,t,i){return this.stripe.handleCardPayment(e,t,i)}confirmPaymentIntent(e,t,i){return this.stripe.confirmPaymentIntent(e,t,i)}handleCardSetup(e,t,i){return this.stripe.handleCardSetup(e,t,i)}confirmSetupIntent(e,t,i){return this.stripe.confirmSetupIntent(e,t,i)}handleFpxPayment(e,t,i){return this.stripe.handleFpxPayment(e,t,i)}static \u0275fac=function(t){return new(t||n)(w(ft),w(ut),w(ht),w(yt),w(it))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),T=(()=>{class n{stripeService;constructor(e){this.stripeService=e}elements(e,t={}){return e?Object.keys(t).length>0?e.elements(t):e.elements():Object.keys(t).length>0?this.stripeService.elements(t):this.stripeService.elements()}paymentRequest(e,t){return e?e.paymentRequest(t):this.stripeService.paymentRequest(t)}mergeOptions(e,t){return!t||e&&e.classes?e||{}:!e||!e.classes?de(z({},e||{}),{classes:{base:t,complete:`${t}--complete`,empty:`${t}--empty`,focus:`${t}--focus`,invalid:`${t}--invalid`,webkitAutoFill:`${t}--webkit-autoFill`}}):e||{}}static \u0275fac=function(t){return new(t||n)(w(Lt))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),F=(()=>{class n{stripeElementsService;elementsOptions;stripe;elements=new l;_elements;state="notready";constructor(e){this.stripeElementsService=e}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=this.elementsOptions,i=this.stripe;if(!i){this.state="notready";return}if(e.elementsOptions)if(this._elements){let a=Object.keys(t).reduce((p,Y)=>(t[Y]!==e.elementsOptions.previousValue[Y]&&!["fonts","loader","clientSecret"].includes(Y)&&(p[Y]=t[Y]),p),{});this._elements.update(a)}else this._elements=yield this.stripeElementsService.elements(i,t).toPromise(),this.elements.emit(this._elements),this.state="ready"})}ngOnInit(){return S(this,null,function*(){this.state==="notready"&&(this.state="starting",this._elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.elements.emit(this._elements),this.state="ready")})}fetchUpdates(){return this._elements?c(this._elements.fetchUpdates()):null}update(e){return this._elements?this._elements.update(e):null}submit(){return this._elements?c(this._elements.submit()):null}getElement(e){if(!this._elements)return null;switch(e){case"address":return this._elements.getElement("address");case"paymentMethodMessaging":return this._elements.getElement("paymentMethodMessaging");case"affirmMessage":return this._elements.getElement("affirmMessage");case"afterpayClearpayMessage":return this._elements.getElement("afterpayClearpayMessage");case"auBankAccount":return this._elements.getElement("auBankAccount");case"card":return this._elements.getElement("card");case"cardNumber":return this._elements.getElement("cardNumber");case"cardExpiry":return this._elements.getElement("cardExpiry");case"cardCvc":return this._elements.getElement("cardCvc");case"fpxBank":return this._elements.getElement("fpxBank");case"epsBank":return this._elements.getElement("epsBank");case"p24Bank":return this._elements.getElement("p24Bank");case"iban":return this._elements.getElement("iban");case"idealBank":return this._elements.getElement("idealBank");case"linkAuthentication":return this._elements.getElement("linkAuthentication");case"expressCheckout":return this._elements.getElement("expressCheckout");case"payment":return this._elements.getElement("payment");case"paymentRequestButton":return this._elements.getElement("paymentRequestButton");case"shippingAddress":return this._elements.getElement("shippingAddress");default:return this._elements.getElement(e)}}static \u0275fac=function(t){return new(t||n)(g(T))};static \u0275dir=ve({type:n,selectors:[["ngx-stripe-elements"],["","ngxStripeElements",""]],inputs:{elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{elements:"elements"},features:[I]})}return n})(),Gi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;loaderror=new l;loaderstart=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){return this.element.update(e)}getValue(){return this.elements.getElement("address").getValue()}getAddressElement(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("address",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.on("loaderror",()=>this.loaderror.emit()),this.element.on("loaderstart",()=>this.loaderstart.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-address"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape",loaderror:"loaderror",loaderstart:"loaderstart"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ci,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),qi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;ready=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getAffirmMessage(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("affirmMessage",e),this.element.on("ready",()=>this.ready.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-affirm-message"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",ready:"ready"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,bi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Vi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;ready=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getAfterpayClearpayMessage(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("afterpayClearpayMessage",e),this.element.on("ready",()=>this.ready.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-afterpay-clearpay-message"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",ready:"ready"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,_i,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),$i=(()=>{class n{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t,i){this.cdr=e,this.stripeElementsService=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e)}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e))})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getCard(){return this.element}createElement(e={}){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("card",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(Ce),g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-card"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ei,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),gt=(()=>{class n{stripeElementsService;elementsOptions;stripe;elements=new l;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;_elements;state="notready";constructor(e){this.stripeElementsService=e}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=this.elementsOptions,i=this.stripe;(e.elementsOptions||e.stripe||!this._elements)&&(this._elements=yield this.stripeElementsService.elements(i,t).toPromise(),this.elements.emit(this._elements)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){this.state==="notready"&&(this.state="starting",this._elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.elements.emit(this._elements),this.state="ready")})}static \u0275fac=function(t){return new(t||n)(g(T))};static \u0275dir=ve({type:n,selectors:[["ngx-stripe-card-group"],["","ngxStripeCardGroup",""]],inputs:{elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{elements:"elements",load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I]})}return n})(),Li=(()=>{class n{stripeElementsService;cardGroup;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;elementsSubscription;constructor(e,t,i){this.stripeElementsService=e,this.cardGroup=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){(e.options||e.containerClass)&&this.setupElement("options")})}ngOnInit(){if(this.cardGroup)this.elementsSubscription=this.cardGroup.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else if(this.elementsProvider)this.elementsSubscription=this.elementsProvider.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else throw new Error("StripeCardNumberComponent must have StripeCardGroupDirective or StripeElementsDirective parent")}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getCardNumber(){return this.element}setupElement(e){let t=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.element&&e==="options"?this.update(t):this.elements&&e==="elements"&&(this.element=this.elements.create("cardNumber",t),this.element.on("change",i=>{this.change.emit(i),this.cardGroup?.change.emit(i)}),this.element.on("blur",()=>{this.blur.emit(),this.cardGroup?.blur.emit()}),this.element.on("focus",()=>{this.focus.emit(),this.cardGroup?.focus.emit()}),this.element.on("ready",()=>{this.ready.emit(),this.cardGroup?.ready.emit()}),this.element.on("escape",()=>{this.escape.emit(),this.cardGroup?.escape.emit()}),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element),this.cardGroup?.load.emit(this.element))}static \u0275fac=function(t){return new(t||n)(g(T),g(gt,8),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-card-number"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,wi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.cardGroup&&i.cardGroup.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Hi=(()=>{class n{stripeElementsService;cardGroup;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;elementsSubscription;constructor(e,t,i){this.stripeElementsService=e,this.cardGroup=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){(e.options||e.containerClass)&&this.setupElement("options")})}ngOnInit(){if(this.cardGroup)this.elementsSubscription=this.cardGroup.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else if(this.elementsProvider)this.elementsSubscription=this.elementsProvider.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else throw new Error("StripeCardExpiryComponent must have StripeCardGroupDirective or StripeElementsDirective parent")}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getCardExpiry(){return this.element}setupElement(e){let t=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.element&&e==="options"?this.update(t):this.elements&&e==="elements"&&(this.element=this.elements.create("cardExpiry",t),this.element.on("change",i=>{this.change.emit(i),this.cardGroup?.change.emit(i)}),this.element.on("blur",()=>{this.blur.emit(),this.cardGroup?.blur.emit()}),this.element.on("focus",()=>{this.focus.emit(),this.cardGroup?.focus.emit()}),this.element.on("ready",()=>{this.ready.emit(),this.cardGroup?.ready.emit()}),this.element.on("escape",()=>{this.escape.emit(),this.cardGroup?.escape.emit()}),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element),this.cardGroup?.load.emit(this.element))}static \u0275fac=function(t){return new(t||n)(g(T),g(gt,8),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-card-expiry"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,xi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.cardGroup&&i.cardGroup.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),zi=(()=>{class n{stripeElementsService;cardGroup;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;elementsSubscription;constructor(e,t,i){this.stripeElementsService=e,this.cardGroup=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){(e.options||e.containerClass)&&this.setupElement("options")})}ngOnInit(){if(this.cardGroup)this.elementsSubscription=this.cardGroup.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else if(this.elementsProvider)this.elementsSubscription=this.elementsProvider.elements.subscribe(e=>{this.elements=e,this.setupElement("elements")});else throw new Error("StripeCardCvcComponent must have StripeCardGroupDirective or StripeElementsDirective parent")}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getCardCvc(){return this.element}setupElement(e){let t=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.element&&e==="options"?this.update(t):this.elements&&e==="elements"&&(this.element=this.elements.create("cardCvc",t),this.element.on("change",i=>{this.change.emit(i),this.cardGroup?.change.emit(i)}),this.element.on("blur",()=>{this.blur.emit(),this.cardGroup?.blur.emit()}),this.element.on("focus",()=>{this.focus.emit(),this.cardGroup?.focus.emit()}),this.element.on("ready",()=>{this.ready.emit(),this.cardGroup?.ready.emit()}),this.element.on("escape",()=>{this.escape.emit(),this.cardGroup?.escape.emit()}),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element),this.cardGroup?.load.emit(this.element))}static \u0275fac=function(t){return new(t||n)(g(T),g(gt,8),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-card-cvc"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Pi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.cardGroup&&i.cardGroup.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Ui=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getEpsBankelement(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("epsBank",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-eps-bank"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Oi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Ki=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;cancel=new l;clicked=new l;confirm=new l;focus=new l;ready=new l;escape=new l;loaderror=new l;shippingaddresschange=new l;shippingratechange=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&this.elements&&t&&this.createElement(i),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){return this.element.update(e)}getLinkAuthenticationElement(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("expressCheckout",e),this.element.on("blur",()=>this.blur.emit()),this.element.on("cancel",()=>this.cancel.emit()),this.element.on("click",t=>this.clicked.emit(t)),this.element.on("confirm",t=>this.confirm.emit(t)),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",t=>this.ready.emit(t)),this.element.on("escape",()=>this.escape.emit()),this.element.on("loaderror",t=>this.loaderror.emit(t)),this.element.on("shippingaddresschange",t=>this.shippingaddresschange.emit(t)),this.element.on("shippingratechange",t=>this.shippingratechange.emit(t)),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-express-checkout"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",cancel:"cancel",clicked:"clicked",confirm:"confirm",focus:"focus",ready:"ready",escape:"escape",loaderror:"loaderror",shippingaddresschange:"shippingaddresschange",shippingratechange:"shippingratechange"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Di,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Xi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getFpxBank(){return this.element}createElement(e={accountHolderType:"individual"}){this.element&&this.element.unmount(),this.element=this.elements.create("fpxBank",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-fpx-bank"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,ki,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Wi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getIban(){return this.element}createElement(e={}){this.element&&this.element.unmount(),this.element=this.elements.create("iban",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-iban"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ii,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Yi=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getIdealBank(){return this.element}createElement(e={}){this.element&&this.element.unmount(),this.element=this.elements.create("idealBank",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-ideal-bank"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ti,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Zi=(()=>{class n{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;elements;state="notready";elementsSubscription;constructor(e,t,i){this.cdr=e,this.stripeElementsService=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e)}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e))})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}createElement(e){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("issuingCardCvcDisplay",e),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(Ce),g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-issuing-card-cvc-display"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ni,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),Ji=(()=>{class n{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;elements;state="notready";elementsSubscription;constructor(e,t,i){this.cdr=e,this.stripeElementsService=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e)}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e))})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}createElement(e){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("issuingCardExpiryDisplay",e),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(Ce),g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-issuing-card-expiry-display"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ri,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),en=(()=>{class n{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;elements;state="notready";elementsSubscription;constructor(e,t,i){this.cdr=e,this.stripeElementsService=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e)}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e))})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}createElement(e){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("issuingCardNumberDisplay",e),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(Ce),g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-issuing-card-number-display"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Fi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),tn=(()=>{class n{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;elements;state="notready";elementsSubscription;constructor(e,t,i){this.cdr=e,this.stripeElementsService=t,this.elementsProvider=i}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e)}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e))})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}createElement(e){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("issuingCardPinDisplay",e),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(Ce),g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-issuing-card-pin-display"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Ai,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),nn=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;loaderror=new l;loaderstart=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&this.elements&&t&&this.createElement(i),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}getLinkAuthenticationElement(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("linkAuthentication",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.on("loaderror",()=>this.loaderror.emit()),this.element.on("loaderstart",()=>this.loaderstart.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-link-authentication"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape",loaderror:"loaderror",loaderstart:"loaderstart"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Bi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),sn=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getP24Bankelement(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("p24Bank",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-p24-bank"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Mi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),rn=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getAuBankAccount(){return this.element}createElement(e={}){this.element&&this.element.unmount(),this.element=this.elements.create("auBankAccount",e),this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-au-bank-account"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,Qi,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),on=(()=>{class n{stripeElementsService;elementsProvider;stripeElementRef;element;elements;containerClass;options;elementsOptions;stripe;appearance;clientSecret;doNotCreateUntilClientSecretIsSet=!1;load=new l;blur=new l;change=new l;focus=new l;ready=new l;escape=new l;loaderror=new l;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||e.clientSecret||e.appearance||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,z(z(z({},this.elementsOptions||{}),this.appearance?{appearance:this.appearance}:{}),this.clientSecret?{clientSecret:this.clientSecret}:{})).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe,z(z(z({},this.elementsOptions||{}),this.appearance?{appearance:this.appearance}:{}),this.clientSecret?{clientSecret:this.clientSecret}:{})).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){return this.element.update(e)}collapse(){return this.element.collapse()}fetchUpdates(){return c(this.elements.fetchUpdates())}createElement(e={}){this.element&&this.element.unmount();try{this.element=this.elements.create("payment",e)}catch(t){throw this.elements=null,t}this.element.on("change",t=>this.change.emit(t)),this.element.on("blur",t=>this.blur.emit(t)),this.element.on("focus",t=>this.focus.emit(t)),this.element.on("ready",t=>this.ready.emit(t)),this.element.on("escape",t=>this.escape.emit(t)),this.element.on("loaderror",t=>this.loaderror.emit(t)),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-payment"]],viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe",appearance:"appearance",clientSecret:"clientSecret",doNotCreateUntilClientSecretIsSet:"doNotCreateUntilClientSecretIsSet"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape",loaderror:"loaderror"},features:[I],decls:2,vars:0,consts:[["stripeElementRef",""],[1,"field"]],template:function(t,i){t&1&&y(0,"div",1,0)},dependencies:[k],encapsulation:2})}return n})(),an=(()=>{class n{stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new l;ready=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),t=!0);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i)),this.state="ready"})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(e){this.element.update(e)}getPaymentMethodMessaging(){return this.element}createElement(e){this.element&&this.element.unmount(),this.element=this.elements.create("paymentMethodMessaging",e),this.element.on("ready",()=>this.ready.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-payment-method-messaging"]],contentQueries:function(t,i,a){if(t&1&&M(a,q,5,N),t&2){let p;b(p=_())&&(i.loadingTemplate=p.first)}},viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",ready:"ready"},features:[I],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(o(0,"div",1,0),v(2,ji,1,1,"ng-container",2),r()),t&2&&(h(2),D(i.state!=="ready"&&i.loadingTemplate?2:-1))},dependencies:[k,Q],encapsulation:2})}return n})(),ln=(()=>{class n{stripeElementsService;elementsProvider;stripeElementRef;element;paymentRequest;containerClass;paymentOptions;options;elementsOptions;stripe;load=new l;change=new l;blur=new l;focus=new l;ready=new l;token=new l;paymentMethod=new l;source=new l;cancel=new l;shippingaddresschange=new l;shippingoptionchange=new l;notavailable=new l;elements;state="notready";elementsSubscription;constructor(e,t){this.stripeElementsService=e,this.elementsProvider=t}ngOnChanges(e){return S(this,null,function*(){this.state="starting";let t=!1;if(!this.elementsProvider&&(e.elementsOptions||e.stripe||!this.elements)){let a=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise();this.elements=a,t=!0}e.paymentOptions&&this.paymentRequest&&this.updateRequest(this.paymentOptions);let i=this.stripeElementsService.mergeOptions(this.options,this.containerClass);(e.options||e.containerClass||!this.element||t)&&(this.element&&!t?this.update(i):this.elements&&t&&this.createElement(i))})}ngOnInit(){return S(this,null,function*(){let e=this.stripeElementsService.mergeOptions(this.options,this.containerClass);this.elementsProvider?this.elementsSubscription=this.elementsProvider.elements.subscribe(t=>{this.elements=t,this.createElement(e),this.state="ready"}):this.state==="notready"&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(e),this.state="ready")})}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}canMakePayment(){return c(this.paymentRequest.canMakePayment())}update(e){this.element.update(e)}updateRequest(e){let{currency:t,total:i,displayItems:a,shippingOptions:p}=e;this.paymentRequest.update({currency:t,total:i,displayItems:a,shippingOptions:p})}show(){this.paymentRequest.show()}abort(){this.paymentRequest.abort()}isShowing(){return this.paymentRequest.isShowing()}getButton(){return this.element}createElement(){return S(this,arguments,function*(e={}){this.paymentRequest=this.stripeElementsService.paymentRequest(this.stripe,this.paymentOptions),this.paymentRequest.on("token",i=>this.token.emit(i)),this.paymentMethod.observed&&this.paymentRequest.on("paymentmethod",i=>this.paymentMethod.emit(i)),this.source.observed&&!this.paymentMethod.observed&&this.paymentRequest.on("source",i=>this.source.emit(i)),this.paymentRequest.on("cancel",()=>this.cancel.emit()),this.paymentRequest.on("shippingaddresschange",i=>this.shippingaddresschange.emit(i)),this.paymentRequest.on("shippingoptionchange",i=>this.shippingoptionchange.emit(i)),this.element&&this.element.unmount(),this.element=this.elements.create("paymentRequestButton",z({paymentRequest:this.paymentRequest},e)),(yield this.paymentRequest.canMakePayment())?(this.element.on("click",i=>this.change.emit(i)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit({paymentRequestButton:this.element,paymentRequest:this.paymentRequest})):this.notavailable.emit()})}static \u0275fac=function(t){return new(t||n)(g(T),g(F,8))};static \u0275cmp=x({type:n,selectors:[["ngx-stripe-payment-request-button"]],viewQuery:function(t,i){if(t&1&&O(R,5),t&2){let a;b(a=_())&&(i.stripeElementRef=a.first)}},inputs:{containerClass:"containerClass",paymentOptions:"paymentOptions",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",change:"change",blur:"blur",focus:"focus",ready:"ready",token:"token",paymentMethod:"paymentMethod",source:"source",cancel:"cancel",shippingaddresschange:"shippingaddresschange",shippingoptionchange:"shippingoptionchange",notavailable:"notavailable"},features:[I],decls:2,vars:0,consts:[["stripeElementRef",""],[1,"field"]],template:function(t,i){t&1&&y(0,"div",1,0)},dependencies:[k],encapsulation:2})}return n})(),vt=(()=>{class n{version;baseKey;baseOptions;loader;window;constructor(e,t,i,a,p){this.version=e,this.baseKey=t,this.baseOptions=i,this.loader=a,this.window=p}create(e,t){if(!e&&!this.baseKey)throw new Error("No key defined! Either you need to pass it as a parameter or define it when you call NgxStripeModule.forRoot()");return new Ne(this.version,this.loader,this.window,e||this.baseKey,t||this.baseOptions)}static \u0275fac=function(t){return new(t||n)(w(ft),w(ut),w(ht),w(yt),w(it))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),mn=[Gi,qi,Vi,$i,Li,Hi,zi,Ui,Ki,Xi,Wi,Yi,Zi,Ji,en,tn,nn,sn,rn,on,an,ln];var pn="19.0.0";function dt(n,s){return[yt,Lt,vt,T,it,$t,{provide:ut,useValue:n},{provide:ht,useValue:s},{provide:ft,useValue:pn}]}function Ht(n,s){return Ct([...dt(n,s)])}var zt=(()=>{class n{static forRoot(e,t){return{ngModule:n,providers:[...dt(e,t)]}}static forChild(e,t){return{ngModule:n,providers:[...dt(e,t)]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ge({type:n});static \u0275inj=ye({imports:[k,mn]})}return n})();var nt=class n{el=P(bt);date;constructor(){}ngOnInit(){((e,t)=>e.setHours(0,0,0,0)<=t.setHours(0,0,0,0))(new Date(this.date),new Date)?this.el.nativeElement.innerHTML=`<div class="text-danger fs-xs">Expired ${this.date}</div>`:this.el.nativeElement.innerHTML=`<div class="text-body fs-xs">Expiration ${this.date}</div>`}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ve({type:n,selectors:[["","appDatePassed",""]],inputs:{date:"date"},standalone:!1})};var dn=["cardForm"],un=["updateCardForm"],hn=["addCardModal"];function fn(n,s){n&1&&(o(0,"div",15)(1,"div",16)(2,"span",17),m(3,"Loading..."),r()()())}function yn(n,s){n&1&&(Pt(0),o(1,"div",19)(2,"label",20),m(3,"Card number"),r(),o(4,"div",21),y(5,"input",22)(6,"span",23),r()(),o(7,"div",19)(8,"label",24),m(9,"Name on card"),r(),y(10,"input",25),r(),o(11,"div",26)(12,"div",27)(13,"label",28),m(14,"Expiration date"),r(),y(15,"input",29),r(),o(16,"div",30)(17,"label",31),m(18,"CVC"),r(),y(19,"input",32),r()(),Ot())}function gn(n,s){if(n&1&&(o(0,"form",18),v(1,yn,20,0,"ng-container",3),r()),n&2){let e=C(2);f("formGroup",e.form),h(),f("ngIf",!e.useStripe)}}function vn(n,s){if(n&1&&(o(0,"form",18)(1,"div",19)(2,"label",24),m(3,"Name on card"),r(),y(4,"input",25),r(),o(5,"div",26)(6,"div",33)(7,"label",28),m(8,"Expiration month"),r(),y(9,"input",34),r(),o(10,"div",33)(11,"label",28),m(12,"Expiration year"),r(),y(13,"input",35),r()()()),n&2){let e=C(2);f("formGroup",e.form)}}function Sn(n,s){n&1&&(o(0,"span"),m(1,"Add Card "),r(),y(2,"i",36))}function Cn(n,s){n&1&&(o(0,"span"),m(1,"Close "),r(),y(2,"i",37))}function bn(n,s){if(n&1){let e=X();o(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43),y(4,"img",44),o(5,"span",45),m(6,"Primary"),r()(),o(7,"div",46),m(8),r(),y(9,"div",47),r(),o(10,"div",48)(11,"button",49),L("click",function(){let i=V(e).$implicit,a=C(3);return $(a.editPaymentMethod(i.id))}),m(12," Edit "),r(),o(13,"button",50),L("click",function(){let i=V(e).$implicit,a=C(3);return $(a.removePaymentMethod(i.id))}),m(14," Remove "),r()()()()}if(n&2){let e=s.$implicit;h(8),ce(e.formatted_card_number),h(),f("date",e.card_expiry_date)}}function _n(n,s){if(n&1&&(o(0,"div",38),v(1,bn,15,2,"div",39),r()),n&2){let e=C().ngIf;h(),f("ngForOf",e.card_details)}}function En(n,s){if(n&1){let e=X();o(0,"div"),v(1,fn,4,0,"div",4),o(2,"div",5,0),m(4,"..."),r(),v(5,gn,2,2,"ng-template",null,1,fe)(7,vn,14,1,"ng-template",null,2,fe),o(9,"div",6)(10,"div",7)(11,"h5",8),m(12,"Cards"),r()(),o(13,"div",9)(14,"div",10)(15,"a",11),L("click",function(){V(e);let i=C();return $(i.toggleAddCardForm())}),v(16,Sn,3,0)(17,Cn,3,0),r()(),o(18,"div"),y(19,"div",12),o(20,"button",13),L("click",function(){V(e);let i=C();return $(i.addCard())}),m(21,"Add"),r()(),y(22,"hr"),v(23,_n,2,1,"div",14),r()()()}if(n&2){let e=s.ngIf;h(),f("ngIf",e.loading),h(15),D(e.addCardPressed?17:16),h(2),Et("d-none",!e.addCardPressed),h(5),f("ngIf",!e.loading)}}var st=class n{_store=P(Te);_modalService=P(We);vm$=this._store.vm$;fb=P(ae);cardForm;updateCardForm;form;addCardModal;useStripe=!0;cardOptions=qt;elementOptions=Vt;elements;cardElement;stripe;ngOnInit(){this.initCardDetailsForm(),this._store.getSellerCardDetails(),this._store.id$.subscribe(s=>S(this,null,function*(){if(s){let t=(yield this.stripe.confirmCardSetup(s,{payment_method:{card:this.cardElement}})).setupIntent.payment_method;this.saveCardDetails(t)}})),this.invokeStripe()}invokeStripe(){if(!window.document.getElementById("stripe-script")){let s=window.document.createElement("script");s.id="stripe-script",s.type="text/javascript",s.src="https://js.stripe.com/v3/",s.onload=()=>{this.stripe=window.Stripe(Ue.stripeKey),this.elements=this.stripe.elements(),this.cardElement=this.elements.create("card",{hidePostalCode:!0}),this.cardElement.mount("#card-element")},window.document.body.appendChild(s)}}saveCardDetails(s){let e={id:this.form.value.id,payment_method_id:s};console.log("model",e),this._store.saveCardDetails(e).subscribe()}initCardDetailsForm(){this.form=this.fb.group({id:new E(null),nameOnCard:new E("",[K.required]),expiry_month:new E("",[K.required]),expiry_year:new E("",[K.required]),cvvCode:new E("",[K.required]),cardNumber:new E("",[K.required])})}addPaymentMethod(){this.initCardDetailsForm(),console.log("element",this.cardElement),this._modalService.openConfirmationModal({modalTitle:"Add new payment method",template:this.cardForm,showFooter:!0,saveButtonLabel:"Add card"}).subscribe(s=>{alert("here")})}addCard(){this._store.createPaymentIntent()}editPaymentMethod(s){return S(this,null,function*(){let e=this._store.cards$.subscribe(t=>{let i=t.filter(a=>a.id===s)[0];this.form?.patchValue({id:i.id,nameOnCard:i.card_name})});console.log(this.updateCardForm),this._modalService.openConfirmationModal({modalTitle:"Edit payment method",template:this.updateCardForm,showFooter:!0,saveButtonLabel:"Add card"}).subscribe(t=>{this._store.saveCardDetails(this.form.value).subscribe()})})}removePaymentMethod(s){this._store.deleteCard(s)}toggleAddCardForm(){this._store.toggleForm()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-card-details"]],viewQuery:function(e,t){if(e&1&&(O(dn,5),O(un,5),O(hn,7,_t)),e&2){let i;b(i=_())&&(t.cardForm=i.first),b(i=_())&&(t.updateCardForm=i.first),b(i=_())&&(t.addCardModal=i.first)}},standalone:!1,features:[Z([Te,vt])],decls:2,vars:3,consts:[["addCardModal",""],["cardForm",""],["updateCardForm",""],[4,"ngIf"],["class","d-flex justify-content-center overlay",4,"ngIf"],["tabindex","-1","id","testModal",1,"modal"],[1,"card","mb-3"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"list-group-item","mb-3"],[1,"d-flex","align-items-center","justify-content-between",2,"text-decoration","none",3,"click"],["id","card-element"],[1,"btn","btn-primary","mt-3",3,"click"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","overlay"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"mb-3"],["for","card-number",1,"form-label"],["data-input-format",'{"creditCard": true}',1,"position-relative"],["type","text","id","card-number","placeholder","XXXX XXXX XXXX XXXX","required","","formControlName","cardNumber",1,"form-control","form-icon-end","rounded-pill",2,"background-image","none"],["data-card-icon","",1,"position-absolute","d-flex","top-50","end-0","translate-middle-y","fs-5","text-body-tertiary","me-3"],["for","card-name",1,"form-label"],["type","text","id","card-name","placeholder","Full name","required","","formControlName","nameOnCard",1,"form-control","rounded-pill"],[1,"row","mb-4"],[1,"col-7"],["for","card-expiration",1,"form-label"],["type","text","id","card-expiration","data-input-format",'{"date": true, "datePattern": ["m", "y"]}',"placeholder","MM/YY","required","","formControlName","expiry",1,"form-control","rounded-pill"],[1,"col-5"],["for","card-cvc",1,"form-label"],["type","text","id","card-cvc","data-input-format",'{"numericOnly": true, "blocks": [3]}',"placeholder","XXX","required","","formControlName","cvvCode",1,"form-control","rounded-pill"],[1,"col-4"],["type","text","id","card-expiration","placeholder","MM","required","","formControlName","expiry_month",1,"form-control","rounded-pill"],["type","text","id","card-expiration","placeholder","YY","required","","formControlName","expiry_year",1,"form-control","rounded-pill"],[1,"fa-solid","fa-arrow-right"],[1,"fa-solid","fa-close"],[1,"row"],["class","col col-lg-3",4,"ngFor","ngForOf"],[1,"col","col-lg-3"],[1,"card","h-100","rounded-4"],[1,"card-body","pb-3"],[1,"d-flex","align-items-start","justify-content-between","mb-4"],["src","assets/img/payment-methods/mastercard.svg","width","100","alt","Mastercard",1,"m-n3"],[1,"badge","text-bg-info","rounded-pill"],[1,"h6","mb-1"],["appDatePassed","",1,"text-body","fs-xs",3,"date"],[1,"card-footer","d-flex","gap-2","bg-transparent","border-0","pt-0","pb-4"],["type","button",1,"btn","btn-sm","btn-outline-secondary","rounded-pill","me-1",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary","rounded-pill",3,"click"]],template:function(e,t){e&1&&(v(0,En,24,5,"div",3),J(1,"async")),e&2&&f("ngIf",ee(1,1,t.vm$))},dependencies:[be,te,se,he,ie,ne,ze,re,oe,pe,nt,ue],encapsulation:2})};var xn={data:{},loading:!1},Re=class n extends le{constructor(e,t){super(xn);this._api=e;this._globalStore=t}data$=this.select(({data:e})=>e);getData(e){return this.patchState({loading:!0}),this._api.getSeller(e).pipe(j({next:t=>{this.patchState({data:t})},error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})}))}deleteAccount(e){return this._api.deleteAccount(e).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:t=>this._globalStore.setSuccess("Deleted successfully"),error:t=>this._globalStore.setError(G(t)),finalize:()=>this._globalStore.setLoading(!1)}))}resetPassword(e){return this._api.resetPassword(e).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:t=>this._globalStore.setSuccess("Deleted successfully"),error:t=>this._globalStore.setError(G(t)),finalize:()=>this._globalStore.setLoading(!1)}))}static \u0275fac=function(t){return new(t||n)(w(W),w(me))};static \u0275prov=A({token:n,factory:n.\u0275fac})};var Pn=["mycheckbox"];function On(n,s){n&1&&(o(0,"div",33),m(1," Please tick the checkbox "),r())}var rt=class n{_store=P(Re);fb=P(ae);form;mycheckbox;deletePressed=!1;sellerId=0;_auth=P(Xe);ngOnInit(){this.initForm(),this._store.data$.subscribe(s=>{this.sellerId=s.id})}initForm(){this.form=this.fb.group({password:new E(""),newPassword:new E(""),confirmPassword:new E("")})}deleteAccount(){if(!this.mycheckbox.nativeElement.checked){this.deletePressed=!0;return}this._store.deleteAccount(this.sellerId).subscribe(()=>{this._auth.Logout()})}get deleteAccepted(){return this.deletePressed&&!this.mycheckbox.nativeElement.checked}updatePassword(){this._store.resetPassword({old_password:this.form.value.password,new_password:this.form.value.newPassword,new_password_confirmation:this.form.value.confirmPassword}).subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-security"]],viewQuery:function(e,t){if(e&1&&O(Pn,5),e&2){let i;b(i=_())&&(t.mycheckbox=i.first)}},standalone:!1,features:[Z([Re])],decls:67,vars:3,consts:[["mycheckbox",""],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row","row-cols-1","row-cols-sm-2","g-4","mb-4"],[1,"col"],["for","current-password",1,"form-label","fs-base"],[1,"password-toggle"],["type","password","id","current-password","required","","formControlName","password",1,"form-control","form-control-lg","rounded-pill"],[1,"invalid-tooltip","bg-transparent","p-0"],["aria-label","Show/hide password",1,"password-toggle-button"],["type","checkbox",1,"btn-check"],[1,"password-toggle-button-icon","d-flex"],["width","1em","height","1em","viewBox","0 0 24 24","fill","currentColor"],["d","M23.8 11.6c-.1-.1-.1-.3-.2-.4-.8-1.4-1.7-2.7-2.8-3.8-1.9-2.1-4.9-4.3-8.8-4.3S5.2 5.3 3.2 7.4c-1.1 1.2-2 2.4-2.8 3.8-.1.1-.1.2-.2.4s-.1.5 0 .8v.1c.2.4.5.8.7 1.2.7 1 1.4 2 2.2 2.9 1.9 2.1 4.9 4.3 8.8 4.3 3.9 0 6.8-2.2 8.8-4.3 1.1-1.2 2-2.4 2.8-3.8.1-.1.1-.2.2-.4.2-.3.2-.6.1-.8zm-4.3 3.8c-1.8 1.9-4.3 3.7-7.5 3.7s-5.7-1.8-7.5-3.7c-1-1-1.8-2.2-2.5-3.4.7-1.2 1.5-2.4 2.5-3.4C6.3 6.7 8.8 4.9 12 4.9s5.7 1.8 7.5 3.7c1 1 1.8 2.2 2.5 3.4-.7 1.2-1.5 2.4-2.5 3.4z"],["d","M12 8.1c-2.2 0-3.9 1.8-3.9 3.9s1.7 3.9 3.9 3.9 3.9-1.7 3.9-3.9-1.7-3.9-3.9-3.9zm0 6c-1.1 0-2.1-1-2.1-2.1s.9-2.1 2.1-2.1 2.1 1 2.1 2.1-1 2.1-2.1 2.1z"],["for","new-password",1,"form-label","fs-base"],[1,"fs-sm","fw-normal","text-body-secondary"],["type","password","minlength","8","id","new-password","formControlName","newPassword","required","",1,"form-control","form-control-lg","rounded-pill"],["for","confirm-new-password",1,"form-label","fs-base"],["type","password","minlength","8","id","confirm-new-password","formControlName","confirmPassword","required","",1,"form-control","form-control-lg","rounded-pill"],[1,"d-flex","gap-3"],["type","submit",1,"btn","btn-lg","btn-primary","rounded-pill",3,"click"],["type","reset",1,"btn","btn-lg","btn-secondary","rounded-pill"],[1,"h6","pt-5","mt-xl-2","pb-1","mb-2"],[1,"fs-sm"],[1,"form-check","mb-3"],["type","checkbox","id","confirm-deletion",1,"form-check-input"],["for","confirm-deletion",1,"form-check-label"],["class","invalid-feedback",4,"ngIf"],["href","javascript:void(0)",1,"fs-sm","fw-medium","text-danger",3,"click"],[1,"invalid-feedback"]],template:function(e,t){if(e&1){let i=X();o(0,"div",1)(1,"div",2)(2,"h5",3),m(3,"Change Password"),r()(),o(4,"div",4)(5,"form",5)(6,"div",6)(7,"div",7)(8,"label",8),m(9,"Current password"),r(),o(10,"div",9),y(11,"input",10),o(12,"div",11),m(13," Incorrect password. Please try again. "),r(),o(14,"label",12),y(15,"input",13),o(16,"span",14),je(),o(17,"svg",15),y(18,"path",16)(19,"path",17),r()()()()()(),Ge(),o(20,"div",6)(21,"div",7)(22,"label",18),m(23,"New password "),o(24,"span",19),m(25,"(Min 8 chars)"),r()(),o(26,"div",9),y(27,"input",20),o(28,"div",11),m(29," Please ensure password is at least 8 characters long. "),r(),o(30,"label",12),y(31,"input",13),o(32,"span",14),je(),o(33,"svg",15),y(34,"path",16)(35,"path",17),r()()()()(),Ge(),o(36,"div",7)(37,"label",21),m(38,"Confirm new password"),r(),o(39,"div",9),y(40,"input",22),o(41,"div",11),m(42," Passwords do not match. "),r(),o(43,"label",12),y(44,"input",13),o(45,"span",14),je(),o(46,"svg",15),y(47,"path",16)(48,"path",17),r()()()()()(),Ge(),o(49,"div",23)(50,"button",24),L("click",function(){return V(i),$(t.updatePassword())}),m(51," Update password "),r(),o(52,"button",25),m(53," Cancel "),r()()()()(),o(54,"h2",26),m(55,"Delete account"),r(),o(56,"p",27),m(57,` When you delete your account, your public profile will be deactivated immediately. If you change your mind before the 14 days are up, sign in with your email and password, and we'll send a link to reactivate account.
`),r(),o(58,"div",28),y(59,"input",29,0),o(61,"label",30),m(62,"Yes, I want to delete my account"),r(),m(63),v(64,On,2,0,"div",31),r(),o(65,"a",32),L("click",function(){return V(i),$(t.deleteAccount())}),m(66,"Delete account"),r()}e&2&&(h(5),f("formGroup",t.form),h(58),Ve(" valid ",t.deleteAccepted," "),h(),f("ngIf",t.deleteAccepted))},dependencies:[te,se,he,ie,ne,ze,Nt,re,oe,pe],styles:[".password-toggle-button[_ngcontent-%COMP%]{align-items:center;color:var(--cz-body-color);cursor:pointer;display:flex;height:100%;padding:0 1rem;position:absolute;right:0;top:0;transition:color .2s ease-in-out}.password-toggle[_ngcontent-%COMP%]{position:relative}"]})};var kn={data:{},loading:!1},Fe=class n extends le{constructor(e,t){super(kn);this._api=e;this._globalStore=t}data$=this.select(({data:e})=>e);vm$=this.select(e=>({data:e.data,loading:e.loading}));getData(e){return this.patchState({loading:!0}),this._api.getSeller(e).pipe(j({next:t=>{this.patchState({data:t})},error:t=>this._globalStore.setError(G(t)),finalize:()=>this.patchState({loading:!1})}))}saveData=e=>{let p=e,{id:t}=p,i=Ae(p,["id"]);return(t?this._api.update(t,e):this._api.create(i)).pipe(H(()=>this._globalStore.setLoading(!0)),j({next:Y=>this._globalStore.setSuccess("Saved successfully"),error:Y=>{this._globalStore.setLoading(!1),this._globalStore.setError(G(Y))},finalize:()=>this._globalStore.setLoading(!1)}))};static \u0275fac=function(t){return new(t||n)(w(W),w(me))};static \u0275prov=A({token:n,factory:n.\u0275fac})};function In(n,s){n&1&&(o(0,"div",7)(1,"div",8)(2,"span",9),m(3,"Loading..."),r()()())}function Tn(n,s){if(n&1&&(o(0,"option",40),m(1),r()),n&2){let e=s.$implicit;f("value",e.id),h(),ce(e.name)}}function Nn(n,s){if(n&1&&(o(0,"div",36)(1,"label",30),m(2,"Country"),r(),o(3,"select",37)(4,"option",38),m(5,"Select Country"),r(),v(6,Tn,2,2,"option",39),r()()),n&2){let e=s.ngIf;h(6),f("ngForOf",e.countries)}}function Rn(n,s){if(n&1){let e=X();o(0,"form",10),y(1,"input",11),o(2,"div",12)(3,"div",13)(4,"label",14),m(5,"Full Name"),r(),y(6,"input",15),r(),o(7,"div",13)(8,"label",16),m(9,"Email"),r(),y(10,"input",17),r()(),o(11,"div",18)(12,"div",13)(13,"label",14),m(14,"Phone"),r(),y(15,"input",19),r(),o(16,"div",13)(17,"label",16),m(18,"Username"),r(),y(19,"input",20),r()(),o(20,"div",18)(21,"div",13)(22,"label",21),m(23,"Address"),r(),y(24,"input",22),r(),o(25,"div",13)(26,"label",23),m(27,"Address 2"),r(),y(28,"input",24),r()(),o(29,"div",18)(30,"div",25)(31,"label",26),m(32,"City"),r(),y(33,"input",27),r(),o(34,"div",25)(35,"label",28),m(36,"State"),r(),y(37,"input",29),r(),o(38,"div",25)(39,"label",30),m(40,"Zip"),r(),y(41,"input",31),r()(),v(42,Nn,7,1,"div",32),J(43,"async"),o(44,"div",33)(45,"label",23),m(46,"Bio"),r(),o(47,"textarea",34),m(48),r()(),o(49,"button",35),L("click",function(){V(e);let i=C(2);return $(i.save())}),m(50," Save "),r()()}if(n&2){let e=C().ngIf,t=C();f("formGroup",t.form),h(42),f("ngIf",ee(43,3,t.lookupVm$)),h(6),ce(e.data.biography)}}function Fn(n,s){if(n&1&&(o(0,"div",1)(1,"div",2)(2,"h5",3),m(3,"Personal Information"),r()(),o(4,"div",4),v(5,In,4,0,"div",5)(6,Rn,51,5,"form",6),r()()),n&2){let e=s.ngIf;h(5),f("ngIf",e.loading),h(),f("ngIf",!e.loading)}}var ot=class n{_store=P(Fe);vm$=this._store.vm$;_lookupStore=P(Ke);lookupVm$=this._lookupStore.vm$;form;fb=P(ae);ngOnInit(){this.initForm(),this._lookupStore.getCountries(),this._store.getData(1).subscribe(s=>{this.form?.patchValue({id:s.id,name:s.name,email:s.email,phone:s.phone,username:s.username,address1:s.address1,address2:s.address2,country_id:s.country_id,city:s.city,state:s.state,zip:s.zip,bio:s.biography,active:s.active,image:s.profile_picture})})}save(){if(this.form?.valid){let s={name:this.form.value.name,email:this.form.value.email,phone:this.form.value.phone,username:this.form.value.username,address1:this.form.value.address1,address2:this.form.value.address2,city:this.form.value.city,state:this.form.value.state,zip:this.form.value.zip,biography:this.form.value.bio,country_id:this.form.value.country_id,active:!0,profile_picture:this.form.value.image,id:this.form.value.id};console.log("model",s),this._store.saveData(s).subscribe(e=>{alert("good")})}}initForm(){this.form=this.fb.group({id:new E(null),name:new E("",[K.required]),email:new E("",[K.email]),phone:new E("",[K.required]),username:new E("",[K.required]),address1:new E(""),address2:new E(""),city:new E(""),state:new E(""),zip:new E(""),bio:new E(""),image:new E(""),country_id:new E("")})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-shop-details"]],standalone:!1,features:[Z([Fe])],decls:2,vars:3,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","d-flex justify-content-center overlay",4,"ngIf"],["method","post","admin-form","","enctype","multipart/form-data",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-center","overlay"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],["method","post","admin-form","","enctype","multipart/form-data",3,"formGroup"],["id","file","type","file","name","profile_pic","onchange","loadFile(event)",2,"display","none"],[1,"row"],[1,"form-group","col-lg-6"],["for","inputPassword4"],["type","text","id","name","name","name","placeholder","Name","formControlName","name",1,"form-control"],["for","inputEmail4"],["type","email","id","inputEmail4","name","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"row","mb-3"],["type","text","id","phone","name","phone","placeholder","Phone","formControlName","phone",1,"form-control"],["type","text","id","inputEmail4","name","username","placeholder","Username","formControlName","username",1,"form-control"],["for","inputAddress"],["type","text","id","inputAddress","name","address1","placeholder","1234 Main St","formControlName","address1",1,"form-control"],["for","inputAddress2"],["type","text","id","inputAddress2","name","address2","placeholder","Apartment, studio, or floor","formControlName","address2",1,"form-control"],[1,"form-group","col-lg-4"],["for","inputCity"],["type","text","id","city","name","city","formControlName","city",1,"form-control"],["for","inputState"],["type","text","id","state","name","state","formControlName","state",1,"form-control"],["for","inputZip"],["type","text","id","inputZip","name","zip","formControlName","zip",1,"form-control"],["class","form-group col-lg-12 mb-3",4,"ngIf"],[1,"form-group","mb-3"],["id","bio","name","bio","formControlName","bio",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"form-group","col-lg-12","mb-3"],["id","country_id","name","country_id","formControlName","country_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){e&1&&(v(0,Fn,7,2,"div",0),J(1,"async")),e&2&&f("ngIf",ee(1,1,t.vm$))},dependencies:[be,te,se,Le,He,he,$e,ie,ne,re,oe,_e,pe,ue],encapsulation:2})};function Bn(n,s){n&1&&y(0,"app-shop-details")}function Mn(n,s){n&1&&y(0,"app-security")}function Qn(n,s){n&1&&y(0,"app-billing")}function jn(n,s){n&1&&y(0,"app-card-details")(1,"app-bank-details")}function Gn(n,s){n&1&&y(0,"app-notifications")}var at=class n{page="settings";ngOnInit(){}menuItemChanged(s){this.page=s}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-setting-page"]],standalone:!1,decls:17,vars:5,consts:[["settings",""],["security",""],["billing",""],["payments",""],["notifications",""],[1,"container","py-5","bg-white"],["tabName","Profile",3,"templateRef"],["tabName","Account Settings",3,"templateRef"],["tabName","Payments",3,"templateRef"],["tabName","Billing Information",3,"templateRef"],["tabName","Notifications",3,"templateRef"]],template:function(e,t){if(e&1&&(o(0,"div",5)(1,"app-ui-side-menu"),y(2,"app-ui-tab-item",6)(3,"app-ui-tab-item",7)(4,"app-ui-tab-item",8)(5,"app-ui-tab-item",9)(6,"app-ui-tab-item",10),r(),v(7,Bn,1,0,"ng-template",null,0,fe)(9,Mn,1,0,"ng-template",null,1,fe)(11,Qn,1,0,"ng-template",null,2,fe)(13,jn,2,0,"ng-template",null,3,fe)(15,Gn,1,0,"ng-template",null,4,fe),r()),e&2){let i=Se(8),a=Se(10),p=Se(12),Y=Se(14),Kt=Se(16);h(2),f("templateRef",i),h(),f("templateRef",a),h(),f("templateRef",Y),h(),f("templateRef",p),h(),f("templateRef",Kt)}},dependencies:[Bt,Mt,Ye,Je,et,st,rt,ot],styles:[".profile-card[_ngcontent-%COMP%]{max-width:340px;background-color:#f8f9fa}.profile-img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover}.form-row[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}"]})};var qn=[{path:"",component:at}],lt=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ge({type:n});static \u0275inj=ye({imports:[ct.forChild(qn),ct]})};var Ut=class n{static forRoot(){return{ngModule:n,providers:[Ht]}}static \u0275fac=function(e){return new(e||n)};static \u0275mod=ge({type:n});static \u0275inj=ye({imports:[k,lt,Ft,At,Rt,jt,zt.forRoot()]})};export{Ut as SettingsPageModule};
