import{b as A,g as N,k as H,y as Ce,z as _e}from"./chunk-ZUXETJBN.js";import{$a as I,Aa as se,Ca as p,Fb as M,G as te,Ga as ce,Gb as R,Ha as l,Hb as F,I as ne,Ia as W,Ib as B,Ja as E,Ma as U,Ob as he,P as ie,Pa as c,Qa as s,Ra as m,U as P,Ua as de,Va as f,W as ae,Wa as C,Xa as d,ab as j,bb as T,ca as u,cb as y,d as Y,da as h,db as q,eb as g,fb as V,ib as me,ja as _,jb as v,kb as D,lb as k,ma as oe,nb as pe,pb as O,qb as K,rb as ue,sa as a,va as le,wa as w,y as ee,ya as b,za as re}from"./chunk-QYSCFILT.js";var fe={indexColumn:"index",selectColumn:"select",expandColumn:"expand",paginationLimit:"Limit",paginationRange:"Results"};function ge(i){return i==null}var Q=class i{constructor(t,e){this._elementRef=t;this._renderer=e}_prevCondition=!1;_displayStyle;set hide(t){this.initDisplayStyle(),t&&(ge(this._prevCondition)||!this._prevCondition)?(this._prevCondition=!0,this._renderer.setStyle(this._elementRef.nativeElement,"display","none")):!t&&(ge(this._prevCondition)||this._prevCondition)&&(this._prevCondition=!1,this._renderer.setStyle(this._elementRef.nativeElement,"display",this._displayStyle))}initDisplayStyle(){if(this._displayStyle===void 0){let t=this._elementRef.nativeElement.style.display;t&&t!=="none"&&(this._displayStyle=t)}}static \u0275fac=function(e){return new(e||i)(w(oe),w(le))};static \u0275dir=se({type:i,selectors:[["","hide",""]],inputs:{hide:"hide"}})};var ve=["dataTableRow",""],De=(i,t)=>({"fa-caret-right":i,"fa-caret-down":t}),ke=(i,t,e)=>({column:i,row:t,item:e}),Re=(i,t)=>({row:i,item:t});function Se(i,t){if(i&1&&m(0,"div",11),i&2){let e=d().$implicit,n=d();l("textContent",n.item[e.property])}}function Ee(i,t){if(i&1&&m(0,"div",12),i&2){let e=d().$implicit,n=d();l("ngTemplateOutlet",e.cellTemplate)("ngTemplateOutletContext",ue(2,ke,e,n._this,n.item))}}function Ie(i,t){if(i&1&&(c(0,"td",8),p(1,Se,1,1,"div",9)(2,Ee,1,6,"div",10),s()),i&2){let e=t.$implicit,n=d();W("background-color",e.getCellColor(n._this,n.index)),l("hide",!e.visible)("ngClass",e.styleClassObject),a(),l("ngIf",!e.cellTemplate),a(),l("ngIf",e.cellTemplate)}}function Pe(i,t){if(i&1&&(c(0,"tr",13)(1,"td"),m(2,"div",12),s()()),i&2){let e=d();a(),ce("colspan",e.dataTable.columnCount),a(),l("ngTemplateOutlet",e.dataTable.expandTemplate)("ngTemplateOutletContext",K(3,Re,e._this,e.item))}}var z=class i{constructor(t){this.dataTable=t}item;index;expanded;_selected;selectedChange=new _;expandRowChange=new _;get selected(){return this._selected}set selected(t){this._selected=t,this.selectedChange.emit(t)}get displayIndex(){return this.dataTable.pagination?this.dataTable.displayParams.offset+this.index+1:this.index+1}getTooltip(){return this.dataTable.rowTooltip?this.dataTable.rowTooltip(this.item,this,this.index):""}expandRow(t){t.stopPropagation(),this.expanded=!this.expanded,this.expandRowChange.emit()}ngOnDestroy(){this.selected=!1}_this=this;static \u0275fac=function(e){return new(e||i)(w(P(()=>x)))};static \u0275cmp=b({type:i,selectors:[["","dataTableRow",""]],inputs:{item:"item",index:"index"},outputs:{selectedChange:"selectedChange",expandRowChange:"expandRowChange"},standalone:!1,attrs:ve,decls:8,vars:20,consts:[[1,"data-table-row",3,"dblclick","click","title"],[1,"row-expand-button",3,"click","hide"],[1,"fa","fa-lg",3,"ngClass"],[1,"index-column",3,"hide","textContent"],[1,"select-column",3,"hide"],["type","checkbox",3,"ngModelChange","ngModel"],["class","data-column",3,"hide","ngClass","background-color",4,"ngFor","ngForOf"],["class","row-expansion",4,"ngIf"],[1,"data-column",3,"hide","ngClass"],[3,"textContent",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"textContent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row-expansion"]],template:function(e,n){e&1&&(c(0,"tr",0),C("dblclick",function(r){return n.dataTable.rowDoubleClicked(n._this,r)})("click",function(r){return n.dataTable.rowClicked(n._this,r)}),c(1,"td",1),C("click",function(r){return n.expandRow(r)}),m(2,"i",2),s(),m(3,"td",3),c(4,"td",4)(5,"input",5),k("ngModelChange",function(r){return D(n.selected,r)||(n.selected=r),r}),s()(),p(6,Ie,3,6,"td",6),s(),p(7,Pe,3,6,"tr",7)),e&2&&(E("row-odd",n.index%2===0)("row-even",n.index%2===1)("selected",n.selected)("clickable",n.dataTable.selectOnRowClick),l("title",n.getTooltip()),a(),l("hide",!n.dataTable.expandColumnVisible),a(),l("ngClass",K(17,De,!n.expanded,n.expanded)),a(),l("hide",!n.dataTable.indexColumnVisible)("textContent",n.displayIndex),a(),l("hide",!n.dataTable.selectColumnVisible),a(),v("ngModel",n.selected),a(),l("ngForOf",n.dataTable.columns),a(),l("ngIf",n.dataTable.expandableRows&&n.expanded))},dependencies:[M,R,F,B,Q,A,N,H],styles:[".row-odd[_ngcontent-%COMP%]{background-color:#00000080}.row-even[_ngcontent-%COMP%]{background-color:#fff}"]})};var Ve=["dataTableCell"],Oe=["dataTableHeader"],Z=class i{header;sortable=!1;resizable=!1;property;styleClass;cellColors;customSort;width;visible=!0;cellTemplate;headerTemplate;getCellColor(t,e){return e%2===0?"#FFF":"#EEE"}styleClassObject={};ngOnInit(){this._initCellClass()}_initCellClass(){!this.styleClass&&this.property&&(/^[a-zA-Z0-9_]+$/.test(this.property)?this.styleClass="column-"+this.property:this.styleClass="column-"+this.property.replace(/[^a-zA-Z0-9_]/g,"")),this.styleClass!=null&&(this.styleClassObject={[this.styleClass]:!0})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["data-table-column"]],contentQueries:function(e,n,o){if(e&1&&(I(o,Ve,5),I(o,Oe,5)),e&2){let r;T(r=y())&&(n.cellTemplate=r.first),T(r=y())&&(n.headerTemplate=r.first)}},inputs:{header:"header",sortable:"sortable",resizable:"resizable",property:"property",styleClass:"styleClass",cellColors:"cellColors",customSort:"customSort",width:"width",visible:"visible"},standalone:!1,decls:2,vars:0,template:function(e,n){e&1&&(c(0,"p"),g(1,"column works!"),s())},encapsulation:2})};var Me=["dataTableExpand"],Fe=["filterBar"],Be=i=>({column:i});function Ae(i,t){if(i&1){let e=f();c(0,"data-table-header",20),C("searchUpdated",function(o){u(e);let r=d();return h(r.searchChanged(o))}),s()}if(i&2){let e=d();l("searchText",e.searchText)}}function Ne(i,t){i&1&&m(0,"div",21)}function He(i,t){if(i&1&&m(0,"span",13),i&2){let e=d().$implicit;l("textContent",e.header)}}function Qe(i,t){if(i&1&&m(0,"span",27),i&2){let e=d().$implicit;l("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",O(2,Be,e))}}function Le(i,t){i&1&&m(0,"i",29)}function ze(i,t){i&1&&m(0,"i",30)}function Ue(i,t){i&1&&m(0,"i",31)}function We(i,t){if(i&1&&(c(0,"span"),p(1,ze,1,0,"i",30)(2,Ue,1,0,"i",31),s()),i&2){let e=d(3);a(),U(e.sortAsc?1:e.sortAsc?-1:2)}}function je(i,t){if(i&1&&(c(0,"span",28),p(1,Le,1,0,"i",29)(2,We,3,1,"span"),s()),i&2){let e=d().$implicit,n=d();a(),U(e.property!==n.sortBy?1:2)}}function qe(i,t){if(i&1){let e=f();c(0,"span",32),C("mousedown",function(o){u(e);let r=d().$implicit,S=q(1),we=d();return h(we.resizeColumnStart(o,r,S))}),s()}}function $e(i,t){if(i&1){let e=f();c(0,"th",22,0),C("click",function(o){let r=u(e).$implicit,S=d();return h(S.headerClicked(r,o))}),p(2,He,1,1,"span",23)(3,Qe,1,4,"span",24)(4,je,3,1,"span",25)(5,qe,1,0,"span",26),s()}if(i&2){let e=t.$implicit;W("width",e.width),E("sortable",e.sortable)("resizable",e.resizable),l("hide",!e.visible)("ngClass",e.styleClassObject),a(2),l("ngIf",!e.headerTemplate),a(),l("ngIf",e.headerTemplate),a(),l("ngIf",e.sortable),a(),l("ngIf",e.resizable)}}function Ze(i,t){if(i&1){let e=f();c(0,"tbody",33,1),C("selectedChange",function(){u(e);let o=q(1),r=d();return h(r.onRowSelectChanged(o))})("expandRowChange",function(){u(e);let o=q(1),r=d();return h(r.onRowExpandChanged(o))}),s()}if(i&2){let e=t.$implicit,n=t.index;l("item",e)("index",n)}}function Ge(i,t){if(i&1&&m(0,"td",36),i&2){let e=t.$implicit;l("hide",!e.visible)}}function Je(i,t){if(i&1&&(c(0,"tr"),m(1,"td",36),c(2,"td",36),g(3,"\xA0"),s(),m(4,"td",36),p(5,Ge,1,1,"td",37),s()),i&2){let e=t.index,n=d(2);E("row-odd",(e+n.items.length)%2===0)("row-even",(e+n.items.length)%2===1),a(),l("hide",!n.expandColumnVisible),a(),l("hide",!n.indexColumnVisible),a(2),l("hide",!n.selectColumnVisible),a(),l("ngForOf",n.columns)}}function Ke(i,t){if(i&1&&(c(0,"tbody",34),p(1,Je,6,8,"tr",35),s()),i&2){let e=d();a(),l("ngForOf",e.substituteItems)}}function Xe(i,t){if(i&1){let e=f();c(0,"data-table-pagination",38),C("pageUpdated",function(){u(e);let o=d();return h(o.pageChanged())}),s()}}var x=class i{_items=[];get items(){return this._items}set items(t){this._items=t,this._onReloadFinished()}itemCount;searchText="";columns;rows;expandTemplate;filterBar;headerTitle;header=!0;pagination=!0;indexColumn=!0;indexColumnHeader="";rowColors;rowTooltip;selectColumn=!1;multiSelect=!0;substituteRows=!1;expandableRows=!1;translations=fe;selectOnRowClick=!1;autoReload=!1;loading=!1;showDownloadButton=!1;changePage=new _;addButton=new _;indexColumnVisible;selectColumnVisible;expandColumnVisible;_search="";_sortBy;_sortAsc=!0;_customSort;_offset=0;_limit=10;get sortBy(){return this._sortBy}get search(){return this._search}set sortBy(t){this._sortBy=t}set search(t){this._search=t}get sortAsc(){return this._sortAsc}set sortDir(t){this._sortAsc=t==="asc"}set sortAsc(t){this._sortAsc=t}get customSort(){return this._customSort}set customSort(t){this._customSort=t}get offset(){return this._offset}set offset(t){this._offset=t}get limit(){return this._limit}set limit(t){this._limit=t}get page(){return Math.floor(this.offset/this.limit)+1}set page(t){this.offset=(t-1)*this.limit}get lastPage(){return Math.ceil(this.itemCount/this.limit)}sort(t,e,n){this.sortBy=t,this.sortAsc=e,this.customSort=n}ngOnInit(){this._initDefaultValues(),this._initDefaultClickEvents(),this._updateDisplayParams(),this.autoReload&&this._scheduledReload==null&&this.reloadItems()}_initDefaultValues(){this.indexColumnVisible=this.indexColumn,this.selectColumnVisible=this.selectColumn,this.expandColumnVisible=this.expandableRows}_initDefaultClickEvents(){this.headerClick.subscribe(t=>this.sortColumn(t.column)),this.selectOnRowClick&&this.rowClick.subscribe(t=>t.row.selected=!t.row.selected)}_reloading=!1;get reloading(){return this._reloading}reload=new _;reloadItems(){this._reloading=!0,this._search="",this.reload.emit(this._getRemoteParameters())}_onReloadFinished(){this._updateDisplayParams(),this._selectAllCheckbox=!1,this._reloading=!1}_displayParams={};get displayParams(){return this._displayParams}_updateDisplayParams(){this._displayParams={sortBy:this.sortBy,customSort:this.customSort,sortDir:this.sortAsc===!0?"asc":"desc",offset:this.offset,limit:this.limit}}_scheduledReload=null;_triggerReload(){this._scheduledReload&&clearTimeout(this._scheduledReload),this._scheduledReload=setTimeout(()=>{this.reloadItems()})}pageChanged(){this.changePage.emit({page:this.page,limit:this.limit,sortBy:this.sortBy,sortDir:this.sortAsc===!0?"asc":"desc",searchText:this.search??""})}searchChanged(t){this.search=t.search,this.pageChanged()}download=new _;downloadItems(){this.download.emit(this._getRemoteParameters())}rowClick=new _;rowDoubleClick=new _;headerClick=new _;cellClick=new _;rowExpandChange=new _;rowClicked(t,e){this.rowClick.emit({row:t,event:e})}rowDoubleClicked(t,e){this.rowDoubleClick.emit({row:t,event:e})}headerClicked(t,e){if(!this._resizeInProgress&&t.sortable){let n=this.sortBy===t.property?!this.sortAsc:!0;this.changePage.emit({page:this.page,limit:this.limit,sortBy:t.property,sortDir:n===!0?"asc":"desc"})}else this._resizeInProgress=!1}cellClicked(t,e,n){this.cellClick.emit({row:e,column:t,event:n})}_getRemoteParameters(){let t={};return this.sortBy&&(t.sortBy=this.sortBy,t.customSort=this.customSort,t.sortDir=this.sortAsc===!0?"asc":"desc"),this.pagination&&(t.offset=this.offset,t.limit=this.limit),t}sortColumn(t){if(t.sortable){let e=this.sortBy===t.property?!this.sortAsc:!0;this.sort(t.property,e,t.customSort)}}get columnCount(){let t=0;return t+=this.indexColumnVisible?1:0,t+=this.selectColumnVisible?1:0,t+=this.expandColumnVisible?1:0,this.columns.toArray().forEach(e=>{t+=e.visible?1:0}),t}getRowColor(t,e,n){return this.rowColors!==void 0?this.rowColors(t,n,e):"#FFF"}selectedRow;selectedRows=[];_selectAllCheckbox=!1;get selectAllCheckbox(){return this._selectAllCheckbox}set selectAllCheckbox(t){this._selectAllCheckbox=t,this._onSelectAllChanged(t)}_onSelectAllChanged(t){this.rows.toArray().forEach(e=>e.selected=t)}onRowSelectChanged(t){if(this.multiSelect){let e=this.selectedRows.indexOf(t);t.selected&&e<0?this.selectedRows.push(t):!t.selected&&e>=0&&this.selectedRows.splice(e,1)}else t.selected?this.selectedRow=t:this.selectedRow===t&&(this.selectedRow=t);t.selected&&!this.multiSelect&&this.rows.toArray().filter(e=>e.selected).forEach(e=>{e!==t&&(e.selected=!1)})}onRowExpandChanged(t){this.rowExpandChange.emit(t)}get substituteItems(){return Array.from({length:this.displayParams.limit-this.items.length})}_resizeInProgress=!1;resizeColumnStart(t,e,n){this._resizeInProgress=!0}resizeLimit=30;_isResizeInLimit(t,e){return!(e<0&&t.offsetWidth+e<=this.resizeLimit||!t.nextElementSibling||e>=0&&t.nextElementSibling.offsetWidth+e<=this.resizeLimit)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-table"]],contentQueries:function(e,n,o){if(e&1&&(I(o,Me,5),I(o,Fe,5),I(o,Z,4)),e&2){let r;T(r=y())&&(n.expandTemplate=r.first),T(r=y())&&(n.filterBar=r.first),T(r=y())&&(n.columns=r)}},viewQuery:function(e,n){if(e&1&&j(z,5),e&2){let o;T(o=y())&&(n.rows=o)}},inputs:{items:"items",itemCount:"itemCount",searchText:"searchText",headerTitle:"headerTitle",header:"header",pagination:"pagination",indexColumn:"indexColumn",indexColumnHeader:"indexColumnHeader",rowColors:"rowColors",rowTooltip:"rowTooltip",selectColumn:"selectColumn",multiSelect:"multiSelect",substituteRows:"substituteRows",expandableRows:"expandableRows",translations:"translations",selectOnRowClick:"selectOnRowClick",autoReload:"autoReload",loading:"loading",showDownloadButton:"showDownloadButton",sortBy:"sortBy",search:"search",sortAsc:"sortAsc",sortDir:"sortDir",customSort:"customSort",offset:"offset",limit:"limit",page:"page"},outputs:{changePage:"changePage",addButton:"addButton",reload:"reload",download:"download",rowClick:"rowClick",rowDoubleClick:"rowDoubleClick",headerClick:"headerClick",cellClick:"cellClick",rowExpandChange:"rowExpandChange"},standalone:!1,decls:20,vars:13,consts:[["th",""],["row",""],[1,"data-table-wrapper"],[1,"card","mt-4"],[1,"card-header"],[1,"card-title",3,"textContent"],[1,"card-body"],[3,"searchText","searchUpdated",4,"ngIf"],["class","loading-cover",4,"ngIf"],[1,"table-responsive",2,"overflow","visible"],[1,"table","table-condensed","table-bordered","data-table","mt-3"],[1,"expand-column-header",3,"hide"],[1,"index-column-header",3,"hide"],[3,"textContent"],[1,"select-column-header",3,"hide"],["type","checkbox",3,"ngModelChange","hide","ngModel"],["class","column-header",3,"hide","sortable","resizable","ngClass","width","click",4,"ngFor","ngForOf"],["class","data-table-row-wrapper","dataTableRow","",3,"item","index","selectedChange","expandRowChange",4,"ngFor","ngForOf"],["class","substitute-rows",4,"ngIf"],[3,"pageUpdated",4,"ngIf"],[3,"searchUpdated","searchText"],[1,"loading-cover"],[1,"column-header",3,"click","hide","ngClass"],[3,"textContent",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","column-sort-icon",4,"ngIf"],["class","column-resize-handle",3,"mousedown",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"column-sort-icon"],[1,"fa","fa-sort","column-sortable-icon"],[1,"fa","fa-sort-desc"],[1,"fa","fa-sort-asc"],[1,"column-resize-handle",3,"mousedown"],["dataTableRow","",1,"data-table-row-wrapper",3,"selectedChange","expandRowChange","item","index"],[1,"substitute-rows"],[3,"row-odd","row-even",4,"ngFor","ngForOf"],[3,"hide"],[3,"hide",4,"ngFor","ngForOf"],[3,"pageUpdated"]],template:function(e,n){e&1&&(c(0,"div",2)(1,"div",3)(2,"div",4),m(3,"h5",5),s(),c(4,"div",6),p(5,Ae,1,1,"data-table-header",7)(6,Ne,1,0,"div",8),c(7,"div",9)(8,"table",10)(9,"thead")(10,"tr"),m(11,"th",11),c(12,"th",12),m(13,"span",13),s(),c(14,"th",14)(15,"input",15),k("ngModelChange",function(r){return D(n.selectAllCheckbox,r)||(n.selectAllCheckbox=r),r}),s()(),p(16,$e,6,12,"th",16),s()(),p(17,Ze,2,2,"tbody",17)(18,Ke,2,1,"tbody",18),s()(),p(19,Xe,1,0,"data-table-pagination",19),s()()()),e&2&&(a(3),l("textContent",n.headerTitle),a(2),l("ngIf",n.header),a(),l("ngIf",n.loading&&n.reloading),a(5),l("hide",!n.expandColumnVisible),a(),l("hide",!n.indexColumnVisible),a(),l("textContent",n.indexColumnHeader),a(),l("hide",!n.selectColumnVisible),a(),l("hide",!n.multiSelect),v("ngModel",n.selectAllCheckbox),a(),l("ngForOf",n.columns),a(),l("ngForOf",n.items),a(),l("ngIf",n.pagination&&n.substituteRows),a(),l("ngIf",n.pagination&&!n.loading))},styles:[".row-odd[_ngcontent-%COMP%]{background-color:#00000080}.row-even[_ngcontent-%COMP%]{background-color:#fff}"]})};var Ye=["filterValue"];function et(i,t){if(i&1&&(c(0,"div",17),de(1,18),s()),i&2){let e=d();a(),l("ngTemplateOutlet",e.dataTable.filterBar)}}function tt(i,t){if(i&1){let e=f();c(0,"button",19),C("click",function(o){u(e);let r=d();return h(r.addButtonClicked(o))}),m(1,"i",20),s()}}function nt(i,t){if(i&1){let e=f();c(0,"button",21),C("click",function(){u(e);let o=d();return h(o.dataTable.downloadItems())}),m(1,"i",22),s()}}function it(i,t){if(i&1){let e=f();c(0,"div",26)(1,"label")(2,"input",27),k("ngModelChange",function(o){u(e);let r=d(2);return D(r.dataTable.expandColumnVisible,o)||(r.dataTable.expandColumnVisible=o),h(o)}),s(),c(3,"span"),g(4),s()()()}if(i&2){let e=d(2);a(2),v("ngModel",e.dataTable.expandColumnVisible),a(2),V(e.dataTable.translations.expandColumn)}}function at(i,t){if(i&1){let e=f();c(0,"div",26)(1,"label")(2,"input",27),k("ngModelChange",function(o){u(e);let r=d(2);return D(r.dataTable.indexColumnVisible,o)||(r.dataTable.indexColumnVisible=o),h(o)}),s(),c(3,"span"),g(4),s()()()}if(i&2){let e=d(2);a(2),v("ngModel",e.dataTable.indexColumnVisible),a(2),V(e.dataTable.translations.indexColumn)}}function ot(i,t){if(i&1){let e=f();c(0,"div",26)(1,"label")(2,"input",27),k("ngModelChange",function(o){u(e);let r=d(2);return D(r.dataTable.selectColumnVisible,o)||(r.dataTable.selectColumnVisible=o),h(o)}),s(),c(3,"span"),g(4),s()()()}if(i&2){let e=d(2);a(2),v("ngModel",e.dataTable.selectColumnVisible),a(2),V(e.dataTable.translations.selectColumn)}}function lt(i,t){if(i&1){let e=f();c(0,"div",28)(1,"label")(2,"input",27),k("ngModelChange",function(o){let r=u(e).$implicit;return D(r.visible,o)||(r.visible=o),h(o)}),s(),m(3,"span",29),s()()}if(i&2){let e=t.$implicit;a(2),v("ngModel",e.visible),a(),l("textContent",e.header)}}function rt(i,t){if(i&1&&(c(0,"div",23),p(1,it,5,2,"div",24)(2,at,5,2,"div",24)(3,ot,5,2,"div",24)(4,lt,4,2,"div",25),s()),i&2){let e=d();a(),l("ngIf",e.dataTable.expandableRows),a(),l("ngIf",e.dataTable.indexColumn),a(),l("ngIf",e.dataTable.selectColumn),a(),l("ngForOf",e.dataTable.columns)}}var G=class i{constructor(t){this.dataTable=t}columnSelectorOpen=!1;searchUpdated=new _;filterValue;searchText="";ngOnInit(){let t=document.getElementById("search");ee(t,"input").pipe(te(300),ne(),ie(n=>Y(this,null,function*(){return this.search(n)}))).subscribe()}_closeSelector(){this.columnSelectorOpen=!1}search(t){let e=t.target.value;this.searchUpdated.emit({search:e})}addButtonClicked(t){this.dataTable.addButton.emit(t)}clearSearch(){this.filterValue.nativeElement.value="",this.dataTable.reloadItems()}static \u0275fac=function(e){return new(e||i)(w(P(()=>x)))};static \u0275cmp=b({type:i,selectors:[["data-table-header"]],viewQuery:function(e,n){if(e&1&&j(Ye,5),e&2){let o;T(o=y())&&(n.filterValue=o.first)}},inputs:{searchText:"searchText"},outputs:{searchUpdated:"searchUpdated"},standalone:!1,decls:17,vars:6,consts:[["filterValue",""],[1,"data-table-header"],["class","mt-3 d-flex align-items-center justify-content-between",4,"ngIf"],[1,"d-flex","justify-content-between","mt-3"],[1,"input-group",2,"width","30%"],[1,"input-group-text"],[1,"fas","fa-search"],["id","search","type","search","placeholder","Search","aria-label","Search",1,"form-control"],[1,"button-panel"],[1,"btn","btn-success"],["type","button",1,"btn","btn-default","btn-sm","refresh-button",3,"click"],[1,"fa","fa-refresh","fa-lg"],["type","button",1,"btn","btn-default","btn-sm","column-selector-button",3,"click"],[1,"fa","fa-list","fa-lg"],["type","button","class","btn btn-default btn-sm download-button",3,"click",4,"ngIf"],[1,"column-selector-wrapper",3,"click"],["class","column-selector-box panel panel-default",4,"ngIf"],[1,"mt-3","d-flex","align-items-center","justify-content-between"],[3,"ngTemplateOutlet"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","btn-default","btn-sm","download-button",3,"click"],[1,"fa","fa-download","fa-lg"],[1,"column-selector-box","panel","panel-default"],["class","column-selector-fixed-column checkbox",4,"ngIf"],["class","column-selector-column checkbox",4,"ngFor","ngForOf"],[1,"column-selector-fixed-column","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"column-selector-column","checkbox"],[3,"textContent"]],template:function(e,n){if(e&1){let o=f();c(0,"div",1),p(1,et,2,1,"div",2),c(2,"div",3)(3,"div",4)(4,"span",5),m(5,"i",6),s(),m(6,"input",7,0),s(),c(8,"div",8),p(9,tt,2,0,"button",9),c(10,"button",10),C("click",function(){return u(o),h(n.clearSearch())}),m(11,"i",11),s(),c(12,"button",12),C("click",function(S){return u(o),n.columnSelectorOpen=!n.columnSelectorOpen,h(S.stopPropagation())}),m(13,"i",13),s(),p(14,nt,2,0,"button",14),c(15,"div",15),C("click",function(S){return u(o),h(S.stopPropagation())}),p(16,rt,5,4,"div",16),s()()()()}e&2&&(a(),l("ngIf",n.dataTable.filterBar),a(8),U(n.dataTable.addButton?9:-1),a(3),E("active",n.columnSelectorOpen),a(2),l("ngIf",n.dataTable.showDownloadButton),a(2),l("ngIf",n.columnSelectorOpen))},dependencies:[R,F,B,A,N,H],styles:[".data-table-header[_ngcontent-%COMP%]{min-height:25px;margin-bottom:10px}.title[_ngcontent-%COMP%]{display:inline-block;margin:5px 0 0 5px}.button-panel[_ngcontent-%COMP%]{float:right}.button-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none!important}.column-selector-wrapper[_ngcontent-%COMP%]{position:relative}.column-selector-box[_ngcontent-%COMP%]{box-shadow:0 0 10px #d3d3d3;width:150px;padding:10px;position:absolute;right:0;top:1px;z-index:1060}.column-selector-box[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-bottom:4px}.column-selector-fixed-column[_ngcontent-%COMP%]{font-style:italic}"]})};var ye=i=>({disabled:i}),st=i=>({"custom-disabled active":i});function ct(i,t){if(i&1){let e=f();c(0,"li",4)(1,"a",5),C("click",function(){let o=u(e).$implicit,r=d();return h(r.changePage(o))}),g(2),s()()}if(i&2){let e=t.$implicit,n=d();l("ngClass",O(2,st,n.page===e)),a(2),V(e)}}var J=class i{constructor(t){this.dataTable=t}pageUpdated=new _;pageBack(){this.dataTable.offset-=Math.min(this.dataTable.limit,this.dataTable.offset),this.pageUpdated.emit()}pageForward(){this.dataTable.offset+=this.dataTable.limit,this.pageUpdated.emit()}changePage(t){this.page=Number(t),this.dataTable.page=Number(t),this.pageUpdated.emit()}pageFirst(){this.dataTable.offset=0}get startIndex(){return(this.page-1)*this.limit}get endIndex(){return Math.min(this.startIndex+this.limit-1,this.itemCount-1)}pageLast(){this.dataTable.offset=(this.maxPage-1)*this.dataTable.limit}get itemCount(){return this.dataTable.itemCount}get pages(){let t,e;return this.maxPage<=10?(t=1,e=this.maxPage):this.page<=6?(t=1,e=10):this.page+4>=this.maxPage?(t=this.maxPage-9,e=this.maxPage):(t=this.page-5,e=this.page+4),Array.from(Array(e+1-t).keys()).map(n=>t+n)}get maxPage(){return Math.ceil(this.dataTable.itemCount/this.dataTable.limit)}get limit(){return this.dataTable.limit}set limit(t){this.dataTable.limit=Number(t)}get page(){return this.dataTable.page}set page(t){this.dataTable.page=Number(t)}trackByFn(t,e){return e}static \u0275fac=function(e){return new(e||i)(w(P(()=>x)))};static \u0275cmp=b({type:i,selectors:[["data-table-pagination"]],outputs:{pageUpdated:"pageUpdated"},standalone:!1,decls:12,vars:11,consts:[[1,"d-flex","justify-content-between","align-items-center"],[1,"records-count","d-sm-block","text-secondary"],[1,"pages"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);",1,"page-link",3,"click"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:void(0)",1,"page-link",3,"click"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"div",1),g(2),s(),c(3,"nav",2)(4,"ul",3)(5,"li",4)(6,"a",5),C("click",function(){return n.pageBack()}),g(7,"Previous"),s()(),p(8,ct,3,4,"li",6),c(9,"li",4)(10,"a",7),C("click",function(){return n.pageForward()}),g(11,"Next"),s()()()()()),e&2&&(a(2),me(" Showing ",n.startIndex+1," to ",n.endIndex+1," of ",n.itemCount," entries "),a(3),l("ngClass",O(7,ye,n.page===1)),a(3),l("ngForOf",n.pages)("ngForTrackBy",n.trackByFn),a(),l("ngClass",O(9,ye,n.page+1>n.maxPage)))},dependencies:[M,R],encapsulation:2})};var xe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=re({type:i});static \u0275inj=ae({imports:[he,Ce,_e]})};pe(x,[M,R,F,B,Q,A,N,H,G,z,J],[]);export{Z as a,x as b,xe as c};
