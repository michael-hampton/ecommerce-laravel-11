import{Ba as S,Ca as F,Cb as E,Fa as j,Ha as r,Hb as L,Ib as N,Pa as d,Qa as p,Ua as V,V as T,Va as O,Wa as x,Xa as s,Y as _,Z as w,ca as M,d as D,da as y,eb as R,ga as B,gb as k,h as C,ja as g,sa as c,ua as I,ya as m}from"./chunk-QYSCFILT.js";var f=class n{title="";body="";size="modal-xl";closeMeEvent=new g;confirmEvent=new g;child=null;saveButtonDisabled=!1;saveButtonText="Save";saveButtonClass="btn-primary";formData;showFooter=!1;template;closeMe(){this.closeMeEvent.emit()}confirm(){return D(this,null,function*(){this.confirmEvent.emit()})}close(){}ngOnDestroy(){console.log(" Modal destroyed")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-modal"]],inputs:{title:"title",body:"body",size:"size",child:"child",saveButtonDisabled:"saveButtonDisabled",saveButtonText:"saveButtonText",saveButtonClass:"saveButtonClass",formData:"formData",showFooter:"showFooter",template:"template"},outputs:{closeMeEvent:"closeMeEvent",confirmEvent:"confirmEvent"},decls:0,vars:0,template:function(e,o){},styles:[".modal-xxl[_ngcontent-%COMP%]{--bs-modal-width: 1400px !important}"]})};function A(n,t){if(n&1&&V(0,3),n&2){let e=s();r("ngTemplateOutlet",e.template)}}function q(n,t){if(n&1){let e=O();d(0,"div",4)(1,"button",5),x("click",function(){M(e);let i=s();return y(i.confirm())}),R(2),p(),d(3,"button",6),x("click",function(){M(e);let i=s();return y(i.closeMe())}),R(4," Close "),p()()}if(n&2){let e=s();c(2),k(" ",e.saveButtonText," ")}}var u=class n extends f{static \u0275fac=(()=>{let t;return function(o){return(t||(t=B(n)))(o||n)}})();static \u0275cmp=m({type:n,selectors:[["app-delete-modal"]],standalone:!1,features:[S],decls:4,vars:2,consts:[["content",""],[3,"ngTemplateOutlet",4,"ngIf"],["class","modal-footer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(e,o){e&1&&(d(0,"div",null,0),F(2,A,1,1,"ng-container",1)(3,q,5,1,"div",2),p()),e&2&&(c(2),r("ngIf",o.template),c(),r("ngIf",o.showFooter===!0))},dependencies:[L,N],encapsulation:2})};var P=class n{constructor(t){this.resolver=t}componentRef;componentSubscriber;app=w(j);openModal(t,e,o){let{modal:i,modalBody:a}=this.buildModal(o);return this.componentRef=E(t,{environmentInjector:this.app.injector,hostElement:a}),this.app.attachView(this.componentRef.hostView),this.componentRef.instance.formData=e,this.componentRef.instance.saveButtonText="Save",this.componentRef.instance.saveButtonClass="btn-primary",this.componentRef.instance.closeMeEvent.subscribe(()=>{this.closeModal(),i.remove()}),this.componentRef.instance.confirmEvent.subscribe(()=>{i.remove(),this.confirm()}),this.componentSubscriber=new C,this.componentSubscriber.asObservable()}buildModal(t,e="modal-xl"){let o=document.createElement("div");o.classList.add("modal","show","d-block",e);let i=document.createElement("div");i.classList.add("modal-dialog");let a=document.createElement("div");a.classList.add("modal-content"),i.prepend(a);let l=document.createElement("div");l.classList.add("modal-header"),a.prepend(l);let v=document.createElement("h5");v.classList.add("modal-title"),l.prepend(v),v.innerHTML=t.modalTitle;let b=document.createElement("button");b.classList.add("btn-close"),b.onclick=()=>{o.remove(),this.closeModal()},l.append(b);let h=document.createElement("div");return h.classList.add("modal-body"),a.append(h),o.prepend(i),document.body.appendChild(o),{modal:o,modalBody:h}}openConfirmationModal(t){let{modal:e,modalBody:o}=this.buildModal(t,t.size||"modal-md");return this.componentRef=E(u,{environmentInjector:this.app.injector,hostElement:o}),this.app.attachView(this.componentRef.hostView),t.template?this.componentRef.instance.template=t.template:o.prepend(t.modalBody),this.componentRef.instance.saveButtonText="Save",this.componentRef.instance.showFooter=!0,this.componentRef.instance.saveButtonClass="btn-primary",this.componentRef.instance.closeMeEvent.subscribe(()=>{this.closeModal(),e.remove()}),this.componentRef.instance.confirmEvent.subscribe(()=>{e.remove(),this.confirm()}),this.componentSubscriber=new C,this.componentSubscriber.asObservable()}closeModal(){this.componentSubscriber.complete(),this.componentRef.destroy()}confirm(){this.componentSubscriber.next("confirm"),this.closeModal()}static \u0275fac=function(e){return new(e||n)(_(I))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})};export{f as a,P as b};
